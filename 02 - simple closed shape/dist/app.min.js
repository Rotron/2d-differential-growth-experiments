"use strict";function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return i}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof2(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}!function o(s,a,h){function u(e,t){if(!a[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=a[e]={exports:{}};s[e][0].call(r.exports,function(t){return u(s[e][1][t]||t)},r,r.exports,o,s,a,h)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,i){e.exports={SeedRadius:200,MinDistance:1,MaxDistance:5,RepulsionRadius:20,AttractionForce:.2,RepulsionForce:.6,AlignmentForce:.7,NodeInjectionInterval:100,DrawNodes:!1,TraceMode:!1,InvertedColors:!0,DebugMode:!1,FillMode:!1}},{}],2:[function(t,e,i){var n,u=t("../../core/Node"),r=t("../../core/Path"),o=t("../../core/World"),l=t("./Settings"),s=0;new p5(function(h){function e(t,e){for(var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=[],r=0;r<t;r++){var o=2*Math.PI*r/t+h.radians(i),s=Math.floor(e*Math.cos(o)),a=Math.floor(e*Math.sin(o));n.push(new u(h,window.innerWidth/2+s,window.innerHeight/2+a,l))}return n}function t(t){switch(s=t,n.clearPaths(),t){case 0:n.addPath(new r(h,e(3,l.SeedRadius,30),l,!0));break;case 1:n.addPath(new r(h,e(4,l.SeedRadius,45),l,!0));break;case 2:n.addPath(new r(h,e(60,l.SeedRadius),l,!0))}n.drawBackground(),n.draw(),n.pause(),setTimeout(function(){n.unpause()},1e3)}h.setup=function(){h.createCanvas(window.innerWidth,window.innerHeight),h.colorMode(h.HSB,255),n=new o(h,l),t(s)},h.draw=function(){n.iterate(),n.draw()},h.keyReleased=function(){switch(h.key){case"1":t(0);break;case"2":t(1);break;case"3":t(2);break;case"t":n.toggleTraceMode();break;case"n":n.setDrawNodes(!n.getDrawNodes());break;case"r":t(s);break;case" ":n.paused=!n.paused;break;case"i":n.toggleInvertedColors(),n.drawBackground();break;case"d":n.toggleDebugMode();break;case"f":n.toggleFillMode();break;case"h":n.toggleDrawHistory();break;case"s":n.export()}}})},{"../../core/Node":5,"../../core/Path":6,"../../core/World":7,"./Settings":1}],3:[function(t,e,i){var n=t("./node_modules/point-in-polygon"),r=function(){function i(t,e){_classCallCheck(this,i),this.p5=t,this.polygon=e}return _createClass(i,[{key:"contains",value:function(t){return n(t,this.polygon)}},{key:"draw",value:function(){this.p5.beginShape();for(var t=0;t<this.polygon.length;t++)this.p5.vertex(this.polygon[t][0],this.polygon[t][1]);this.p5.vertex(this.polygon[0][0],this.polygon[0][1]),this.p5.endShape()}}]),i}();e.exports=r},{"./node_modules/point-in-polygon":9}],4:[function(t,e,i){e.exports={MinDistance:20,MaxDistance:30,RepulsionRadius:20,MaxVelocity:.1,AttractionForce:.001,RepulsionForce:500,AlignmentForce:.001,NodeInjectionInterval:100,DrawNodes:!1,TraceMode:!1,InvertedColors:!1,DebugMode:!1,FillMode:!1,DrawHistory:!1,HistoryCaptureInterval:2e3,MaxHistorySize:20,UseBrownianMotion:!0,BrownianMotionRange:.01,ShowBounds:!0}},{}],5:[function(t,e,i){var u=t("./node_modules/vec2"),l=t("./Defaults"),n=function(t){function h(t,e,i){var n,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l,o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s=5<arguments.length?arguments[5]:void 0,a=6<arguments.length?arguments[6]:void 0;return _classCallCheck(this,h),(n=_possibleConstructorReturn(this,_getPrototypeOf(h).call(this,e,i))).p5=t,n.isFixed=o,n.settings=Object.assign({},l,r),n.velocity=0,n.nextPosition=new u(e,i),n.minDistance=s||r.MinDistance,n.repulsionRadius=a||r.RepulsionRadius,n}return _inherits(h,u),_createClass(h,[{key:"iterate",value:function(){this.isFixed||(this.x=this.p5.lerp(this.x,this.nextPosition.x,this.settings.MaxVelocity),this.y=this.p5.lerp(this.y,this.nextPosition.y,this.settings.MaxVelocity))}},{key:"draw",value:function(){this.isFixed?this.p5.ellipse(this.x,this.y,20):this.p5.ellipse(this.x,this.y,5)}}]),h}();e.exports=n},{"./Defaults":4,"./node_modules/vec2":18}],6:[function(t,e,i){var l=t("./node_modules/rbush-knn"),d=t("./Node"),n=t("./Bounds"),c=t("./Defaults"),r=function(){function u(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:c,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{h:0,s:0,b:0,a:255},s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:{h:0,s:0,b:0,a:255},a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{h:0,s:0,b:255,a:255},h=8<arguments.length&&void 0!==arguments[8]?arguments[8]:{h:0,s:0,b:255,a:255};_classCallCheck(this,u),this.p5=t,this.nodes=e,this.isClosed=n,this.settings=Object.assign({},c,i),this.bounds=r,this.injectionMode="RANDOM",this.lastNodeInjectTime=0,this.nodeHistory=[],this.drawNodes=this.settings.DrawNodes,this.invertedColors=this.settings.InvertedColors,this.traceMode=this.settings.TraceMode,this.debugMode=this.settings.DebugMode,this.fillMode=this.settings.FillMode,this.useBrownianMotion=this.settings.UseBrownianMotion,this.drawHistory=this.settings.DrawHistory,this.showBounds=this.settings.ShowBounds,this.fillColor=o,this.strokeColor=s,this.invertedFillColor=a,this.invertedStrokeColor=h,this.currentFillColor=this.fillColor,this.currentStrokeColor=this.strokeColor,this.invertedColors&&(this.currentFillColor=this.invertedFillColor,this.currentStrokeColor=this.invertedStrokeColor)}return _createClass(u,[{key:"iterate",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=this.nodes.entries()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=_slicedToArray(r.value,2),a=s[0],h=s[1];this.useBrownianMotion&&this.applyBrownianMotion(a),this.applyAttraction(a),this.applyRepulsion(a,t),this.applyAlignment(a),this.applyBounds(a),h.iterate()}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}this.splitEdges(),this.pruneNodes(),this.p5.millis()-this.lastNodeInjectTime>=this.settings.NodeInjectionInterval&&(this.injectNode(),this.lastNodeInjectTime=this.p5.millis())}},{key:"applyBrownianMotion",value:function(t){this.nodes[t].x+=this.p5.random(-this.settings.BrownianMotionRange/2,this.settings.BrownianMotionRange/2),this.nodes[t].y+=this.p5.random(-this.settings.BrownianMotionRange/2,this.settings.BrownianMotionRange/2)}},{key:"applyAttraction",value:function(t){var e,i=this.getConnectedNodes(t);null!=i.nextNode&&i.nextNode instanceof d&&!this.nodes[t].isFixed&&(e=this.nodes[t].distance(i.nextNode),Math.min(this.nodes[t].minDistance,i.nextNode.minDistance)<e&&(this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,i.nextNode.x,this.settings.AttractionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,i.nextNode.y,this.settings.AttractionForce))),null!=i.previousNode&&i.previousNode instanceof d&&!this.nodes[t].isFixed&&(e=this.nodes[t].distance(i.previousNode),Math.min(this.nodes[t].minDistance,i.previousNode.minDistance)<e&&(this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,i.previousNode.x,this.settings.AttractionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,i.previousNode.y,this.settings.AttractionForce)))}},{key:"applyRepulsion",value:function(t,e){var i=l(e,this.nodes[t].x,this.nodes[t].y,void 0,void 0,this.nodes[t].repulsionRadius*this.nodes[t].repulsionRadius),n=!0,r=!1,o=void 0;try{for(var s,a=i[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var h=s.value;this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].x,h.x,-this.settings.RepulsionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].y,h.y,-this.settings.RepulsionForce)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"applyAlignment",value:function(t){var e=this.getConnectedNodes(t);if(null!=e.previousNode&&e.previousNode instanceof d&&null!=e.nextNode&&e.nextNode instanceof d&&!this.nodes[t].isFixed){var i=this.getMidpointNode(e.previousNode,e.nextNode);this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,i.x,this.settings.AlignmentForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,i.y,this.settings.AlignmentForce)}}},{key:"splitEdges",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this.nodes.entries()[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=_slicedToArray(n.value,2),s=o[0],a=o[1],h=this.getConnectedNodes(s);if(null!=h.previousNode&&h.previousNode instanceof d&&a.distance(h.previousNode)>=this.settings.MaxDistance){var u=this.getMidpointNode(a,h.previousNode);0==s?this.nodes.splice(this.nodes.length,0,u):this.nodes.splice(s,0,u)}}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"pruneNodes",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this.nodes.entries()[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=_slicedToArray(n.value,2),s=o[0],a=o[1],h=this.getConnectedNodes(s);null!=h.previousNode&&h.previousNode instanceof d&&a.distance(h.previousNode)<this.settings.MinDistance&&(0==s?this.nodes[this.nodes.length-1].isFixed||this.nodes.splice(this.nodes.length-1,1):this.nodes[s-1].isFixed||this.nodes.splice(s-1,1))}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"injectNode",value:function(){switch(this.injectionMode){case"RANDOM":this.injectRandomNode();break;case"CURVATURE":this.injectNodeByCurvature()}}},{key:"injectRandomNode",value:function(){var t=parseInt(this.p5.random(1,this.nodes.length)),e=this.getConnectedNodes(t);if(null!=e.previousNode&&e.previousNode instanceof d&&null!=e.nextNode&&e.nextNode instanceof d&&this.nodes[t].distance(e.previousNode)>this.settings.MinDistance){var i=this.getMidpointNode(this.nodes[t],e.previousNode);this.nodes.splice(t,0,i)}}},{key:"injectNodeByCurvature",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this.nodes.entries()[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=_slicedToArray(n.value,2),s=o[0],a=o[1],h=this.getConnectedNodes(s),u=a.distance(h.previousNode),l=a.distance(h.nextNode);if(180*Math.atan(u/l)/Math.PI<15){var d=this.getMidpointNode(a,h.previousNode),c=this.getMidpointNode(a,h.nextNode);0==s?(this.nodes.splice(this.nodes.length-1,0,d),this.nodes.splice(0,1,c)):this.nodes.splice(s,1,d,c)}}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"applyBounds",value:function(t){null!=this.bounds&&this.bounds instanceof n&&!this.bounds.contains([this.nodes[t].x,this.nodes[t].y])&&(this.nodes[t].isFixed=!0)}},{key:"getConnectedNodes",value:function(t){var e,i;return 0==t&&this.isClosed?e=this.nodes[this.nodes.length-1]:1<=t&&(e=this.nodes[t-1]),t==this.nodes.length-1&&this.isClosed?i=this.nodes[0]:t<=this.nodes.length-1&&(i=this.nodes[t+1]),{previousNode:e,nextNode:i}}},{key:"getMidpointNode",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new d(this.p5,(t.x+e.x)/2,(t.y+e.y)/2,this.settings,i)}},{key:"draw",value:function(){this.drawHistory&&this.drawPreviousEdges(),this.showBounds&&null!=this.bounds&&this.bounds instanceof n&&this.drawBounds(),this.fillMode?this.p5.fill(this.currentFillColor.h,this.currentFillColor.s,this.currentFillColor.b,this.currentFillColor.a):this.p5.noFill(),this.p5.stroke(this.currentStrokeColor.h,this.currentStrokeColor.s,this.currentStrokeColor.b,this.currentStrokeColor.a),this.drawCurrentEdges(),this.drawNodes&&this.drawCurrentNodes()}},{key:"drawCurrentEdges",value:function(){this.drawEdges(this.nodes)}},{key:"drawPreviousEdges",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this.nodeHistory.entries()[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=_slicedToArray(n.value,2),s=o[0],a=o[1];this.p5.stroke(this.currentStrokeColor.h,this.currentStrokeColor.s,this.currentStrokeColor.b,30*s),this.drawEdges(a)}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"drawEdges",value:function(t){this.debugMode||this.p5.beginShape();for(var e=0;e<t.length;e++)this.debugMode?0<e&&(this.traceMode?this.p5.stroke(this.p5.map(e,0,t.length-1,0,255,!0),255,255,2):this.p5.stroke(this.p5.map(e,0,t.length-1,0,255,!0),255,255,255),this.p5.line(t[e-1].x,t[e-1].y,t[e].x,t[e].y)):this.p5.vertex(t[e].x,t[e].y);this.isClosed&&(this.debugMode?this.p5.line(t[t.length-1].x,t[t.length-1].y,t[0].x,t[0].y):this.p5.vertex(t[0].x,t[0].y)),this.debugMode||this.p5.endShape()}},{key:"drawCurrentNodes",value:function(){this.p5.noStroke(),this.invertedColors?this.p5.fill(255):this.p5.fill(0);var t=!0,e=!1,i=void 0;try{for(var n,r=this.nodes.entries()[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=_slicedToArray(n.value,2),s=o[0],a=o[1];this.debugMode&&this.p5.fill(this.p5.map(s,0,this.nodes.length-1,0,255,!0),255,255,255),a.draw()}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"drawBounds",value:function(){this.invertedColors?this.p5.stroke(255):this.p5.stroke(0),this.p5.noFill(),this.bounds.draw()}},{key:"addToHistory",value:function(){this.nodeHistory.length==this.settings.MaxHistorySize&&this.nodeHistory.shift(),this.nodeHistory.push(Object.assign([],JSON.parse(JSON.stringify(this.nodes))))}},{key:"moveTo",value:function(t,e){var i=!0,n=!1,r=void 0;try{for(var o,s=this.nodes[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;a.x+=t,a.y+=e}}catch(t){n=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}},{key:"scale",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=this.nodes[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.x*=t,s.y*=t}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"addNode",value:function(t){this.nodes.push(t)}},{key:"toArray",value:function(){var t=[],e=!0,i=!1,n=void 0;try{for(var r,o=this.nodes[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;t.push([s.x,s.y])}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}return t}},{key:"getTraceMode",value:function(){return this.traceMode}},{key:"getInvertedColors",value:function(){return this.invertedColors}},{key:"setTraceMode",value:function(t){this.traceMode=t,this.traceMode,this.currentFillColor.a=255,this.currentStrokeColor.a=255}},{key:"setInvertedColors",value:function(t){this.invertedColors=t,this.invertedColors?(this.currentFillColor=this.invertedFillColor,this.currentStrokeColor=this.invertedStrokeColor):(this.currentFillColor=this.fillColor,this.currentStrokeColor=this.strokeColor),this.setTraceMode(this.traceMode)}},{key:"setBounds",value:function(t){this.bounds=t}},{key:"toggleTraceMode",value:function(){this.setTraceMode(!this.getTraceMode())}},{key:"toggleInvertedColors",value:function(){this.setInvertedColors(!this.getInvertedColors())}}]),u}();e.exports=r},{"./Bounds":3,"./Defaults":4,"./Node":5,"./node_modules/rbush-knn":11}],7:[function(t,e,i){var o=t("./node_modules/rbush"),f=t("./node_modules/svg-points/").toPath,x=t("./node_modules/file-saver").saveAs,s=t("./Defaults"),n=function(){function r(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,r),this.p5=t,this.paths=i,this.paused=!1,this.settings=Object.assign({},s,e),this.traceMode=this.settings.TraceMode,this.drawNodes=this.settings.DrawNodes,this.debugMode=this.settings.DebugMode,this.invertedColors=this.settings.InvertedColors,this.fillMode=this.settings.FillMode,this.drawHistory=this.settings.DrawHistory,this.useBrownianMotion=this.settings.UseBrownianMotion,this.showBounds=this.settings.ShowBounds,this.tree=o(9,[".x",".y",".x",".y"]),this.buildTree();var n=this;setInterval(function(){n.addToHistory()},this.settings.HistoryCaptureInterval)}return _createClass(r,[{key:"iterate",value:function(){if(this.prunePaths(),this.buildTree(),null!=this.paths&&this.paths instanceof Array&&0<this.paths.length&&!this.paused){var t=!0,e=!1,i=void 0;try{for(var n,r=this.paths[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){n.value.iterate(this.tree)}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}}},{key:"draw",value:function(){if(!this.paused){this.traceMode||this.drawBackground();var t=!0,e=!1,i=void 0;try{for(var n,r=this.paths[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){n.value.draw()}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}}},{key:"drawBackground",value:function(){this.invertedColors?this.p5.background(0):this.p5.background(255)}},{key:"buildTree",value:function(){this.tree.clear();var t=!0,e=!1,i=void 0;try{for(var n,r=this.paths[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;this.tree.load(o.nodes)}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"addPath",value:function(t){t.drawNodes=this.drawNodes,t.debugMode=this.debugMode,t.fillMode=this.fillMode,t.useBrownianMotion=this.useBrownianMotion,t.setInvertedColors(this.invertedColors),t.setTraceMode(this.traceMode),this.paths.push(t)}},{key:"addPaths",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;this.addPath(s)}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"addToHistory",value:function(){if(!this.paused){var t=!0,e=!1,i=void 0;try{for(var n,r=this.paths[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){n.value.addToHistory()}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}}},{key:"prunePaths",value:function(){for(var t=0;t<this.paths.length;t++)this.paths[t].nodes.length<=1&&this.paths.splice(t,1)}},{key:"export",value:function(){var t=document.createElement("svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.setAttribute("width",window.innerWidth),t.setAttribute("height",window.innerHeight),t.setAttribute("viewBox","0 0 "+window.innerWidth+" "+window.innerHeight);var e=!0,i=!1,n=void 0;try{for(var r,o=this.paths[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;if(this.drawHistory){var a=!0,h=!1,u=void 0;try{for(var l,d=s.nodeHistory[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var c=l.value;t.appendChild(this.createPathElFromNodes(c,s.isClosed))}}catch(t){h=!0,u=t}finally{try{a||null==d.return||d.return()}finally{if(h)throw u}}}t.appendChild(this.createPathElFromNodes(s.nodes),s.isClosed)}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}var f=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),y=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",f);y.replaceChild(t,y.documentElement);var p=(new XMLSerializer).serializeToString(y),v=new Blob([p.replace(/></g,">\n\r<")]);x(v,"differential-growth-"+Date.now()+".svg")}},{key:"createPathElFromNodes",value:function(t,e){var i="",n=!0,r=!1,o=void 0;try{for(var s,a=t.entries()[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var h=_slicedToArray(s.value,2),u=h[0],l=h[1];i+=l.x+","+l.y,u<t.length-1&&(i+=" ")}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var d=f({type:"polyline",points:i});e&&(d+=" Z");var c=document.createElement("path");return c.setAttribute("d",d),c.setAttribute("style","fill: none; stroke: black; stroke-width: 1"),c}},{key:"clearPaths",value:function(){this.paths=[]}},{key:"pause",value:function(){this.paused=!0}},{key:"unpause",value:function(){this.paused=!1}},{key:"getDrawNodes",value:function(){return this.drawNodes}},{key:"getDebugMode",value:function(){return this.debugMode}},{key:"getFillMode",value:function(){return this.fillMode}},{key:"getDrawHistory",value:function(){return this.drawHistory}},{key:"getDrawBounds",value:function(){return this.showBounds}},{key:"setDrawNodes",value:function(t){this.drawBackground();var e=!0,i=!1,n=void 0;try{for(var r,o=this.paths[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.drawNodes=t,s.draw()}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}this.drawNodes=t}},{key:"setDebugMode",value:function(t){this.drawBackground();var e=!0,i=!1,n=void 0;try{for(var r,o=this.paths[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.debugMode=t,s.draw()}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}this.debugMode=t}},{key:"setFillMode",value:function(t){this.drawBackground();var e=!0,i=!1,n=void 0;try{for(var r,o=this.paths[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.fillMode=t,s.draw()}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}this.fillMode=t}},{key:"setDrawHistory",value:function(t){this.drawBackground();var e=!0,i=!1,n=void 0;try{for(var r,o=this.paths[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.drawHistory=t,s.draw()}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}this.drawHistory=t}},{key:"setDrawBounds",value:function(t){this.drawBackground();var e=!0,i=!1,n=void 0;try{for(var r,o=this.paths[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.showBounds=t,s.draw()}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}this.showBounds=t}},{key:"toggleDrawNodes",value:function(){this.setDrawNodes(!this.getDrawNodes())}},{key:"toggleTraceMode",value:function(){this.traceMode=!this.traceMode,this.drawBackground();var t=!0,e=!1,i=void 0;try{for(var n,r=this.paths[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;o.toggleTraceMode(),o.draw()}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"toggleInvertedColors",value:function(){this.invertedColors=!this.invertedColors,this.drawBackground();var t=!0,e=!1,i=void 0;try{for(var n,r=this.paths[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;o.toggleInvertedColors(),o.draw()}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"toggleDebugMode",value:function(){this.setDebugMode(!this.getDebugMode())}},{key:"toggleFillMode",value:function(){this.setFillMode(!this.getFillMode())}},{key:"toggleDrawHistory",value:function(){this.setDrawHistory(!this.getDrawHistory())}},{key:"toggleDrawBounds",value:function(){this.setDrawBounds(!this.getDrawBounds())}}]),r}();e.exports=n},{"./Defaults":4,"./node_modules/file-saver":8,"./node_modules/rbush":12,"./node_modules/svg-points/":13}],8:[function(t,n,r){(function(e){var t,i;t=this,i=function(){function l(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){r(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function s(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&e.status<=299}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}}var d=function(){try{return Function("return this")()||(0,eval)("this")}catch(t){return"object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window.window===window?window:"object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self.self===self?self:"object"==_typeof2(e)&&e.global===e?e:this}}(),r=d.saveAs||"object"!=("undefined"==typeof window?"undefined":_typeof2(window))||window!==d?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,i){var n=d.URL||d.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?o(r):s(r.href)?l(t,e,i):o(r,r.target="_blank")):(r.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){o(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,i){if(e=e||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob((r=t,void 0===(o=i)?o={autoBom:!1}:"object"!=_typeof2(o)&&(console.warn("Depricated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\ufeff",r],{type:r.type}):r),e);else if(s(t))l(t,e,i);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){clikc(n)})}var r,o}:function(t,e,i,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return l(t,e,i);var r="application/octet-stream"===t.type,o=/constructor/i.test(d.HTMLElement)||d.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&"object"==("undefined"==typeof FileReader?"undefined":_typeof2(FileReader))){var a=new FileReader;a.onloadend=function(){var t=a.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=t:location=t,n=null},a.readAsDataURL(t)}else{var h=d.URL||d.webkitURL,u=h.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){h.revokeObjectURL(u)},4e4)}};n.exports=d.saveAs=r.saveAs=r},"function"==typeof define&&define.amd?define([],i):void 0!==r?i():(i(),t.FileSaver={})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,i){e.exports=function(t,e){for(var i=t[0],n=t[1],r=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],h=e[o][1],u=e[s][0],l=e[s][1];n<h!=n<l&&i<(u-a)*(n-h)/(l-h)+a&&(r=!r)}return r}},{}],10:[function(t,e,i){var n,r;n=this,r=function(){function v(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function o(t,e){return t<e?-1:e<t?1:0}return function(t,e,i,n,r){!function t(e,i,n,r,o){for(;n<r;){if(600<r-n){var s=r-n+1,a=i-n+1,h=Math.log(s),u=.5*Math.exp(2*h/3),l=.5*Math.sqrt(h*u*(s-u)/s)*(a-s/2<0?-1:1),d=Math.max(n,Math.floor(i-a*u/s+l)),c=Math.min(r,Math.floor(i+(s-a)*u/s+l));t(e,i,d,c,o)}var f=e[i],y=n,p=r;for(v(e,n,i),0<o(e[r],f)&&v(e,n,r);y<p;){for(v(e,y,p),y++,p--;o(e[y],f)<0;)y++;for(;0<o(e[p],f);)p--}0===o(e[n],f)?v(e,n,p):v(e,++p,r),p<=i&&(n=p+1),i<=p&&(r=p-1)}}(t,e,i||0,n||t.length-1,r||o)}},"object"===_typeof2(i)&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):n.quickselect=r()},{}],11:[function(t,e,i){var m=t("tinyqueue");function n(t,e,i,n,r,o){for(var s,a,h,u,l,d,c,f,y,p=t.data,v=[],x=t.toBBox,g=new m(null,w);p;){for(s=0;s<p.children.length;s++)a=p.children[s],l=e,d=i,c=p.leaf?x(a):a,void 0,f=b(l,c.minX,c.maxX),y=b(d,c.minY,c.maxY),h=f*f+y*y,(!o||h<=o)&&g.push({node:a,isItem:p.leaf,dist:h});for(;g.length&&g.peek().isItem;)if(u=g.pop().node,r&&!r(u)||v.push(u),n&&v.length===n)return v;(p=g.pop())&&(p=p.node)}return v}function w(t,e){return t.dist-e.dist}function b(t,e,i){return t<e?e-t:t<=i?0:t-i}e.exports=n,e.exports.default=n},{tinyqueue:17}],12:[function(t,e,i){e.exports=n,e.exports.default=n;var a=t("quickselect");function n(t,e){if(!(this instanceof n))return new n(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function l(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function f(t,e){x(t,0,t.children.length,e,t)}function x(t,e,i,n,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<i;s++)o=t.children[s],d(r,t.leaf?n(o):o);return r}function d(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function o(t,e){return t.minX-e.minX}function s(t,e){return t.minY-e.minY}function g(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function y(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function u(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,i,n,r){for(var o,s=[e,i];s.length;)(i=s.pop())-(e=s.pop())<=n||(o=e+Math.ceil((i-e)/n/2)*n,a(t,o,e,i,r),s.push(e,o,o,i))}n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!u(t,e))return i;for(var r,o,s,a,h=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],u(t,a=e.leaf?n(s):s)&&(e.leaf?i.push(s):y(t,a)?this._all(s,i):h.push(s));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!u(t,e))return!1;for(var n,r,o,s,a=[];e;){for(n=0,r=e.children.length;n<r;n++)if(o=e.children[n],u(t,s=e.leaf?i(o):o)){if(e.leaf||y(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,o,s=this.data,a=this.toBBox(t),h=[],u=[];s||h.length;){if(s||(s=h.pop(),n=h[h.length-1],i=u.pop(),o=!0),s.leaf&&-1!==(r=l(t,s.children,e)))return s.children.splice(r,1),h.push(s),this._condense(h),this;o||s.leaf||!y(s,a)?n?(i++,s=n.children[i],o=!1):s=null:(h.push(s),u.push(i),i=0,s=(n=s).children[0])}return this},toBBox:function(t){return t},compareMinX:o,compareMinY:s,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,o=i-e+1,s=this._maxEntries;if(o<=s)return f(r=p(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(r=p([])).leaf=!1,r.height=n;var a,h,u,l,d=Math.ceil(o/s),c=d*Math.ceil(Math.sqrt(s));for(v(t,e,i,c,this.compareMinX),a=e;a<=i;a+=c)for(v(t,a,u=Math.min(a+c-1,i),d,this.compareMinY),h=a;h<=u;h+=d)l=Math.min(h+d-1,u),r.children.push(this._build(t,h,l,n-1));return f(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,o,s,a,h,u,l,d,c,f;n.push(e),!e.leaf&&n.length-1!==i;){for(l=d=1/0,r=0,o=e.children.length;r<o;r++)h=g(s=e.children[r]),c=t,f=s,(u=(Math.max(f.maxX,c.maxX)-Math.min(f.minX,c.minX))*(Math.max(f.maxY,c.maxY)-Math.min(f.minY,c.minY))-h)<d?(d=u,l=h<l?h:l,a=s):u===d&&h<l&&(l=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),d(s,r);0<=e&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),s=p(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,f(i,this.toBBox),f(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,o,s,a,h,u,l,d,c,f,y,p,v;for(h=u=1/0,n=e;n<=i-e;n++)r=x(t,0,n,this.toBBox),o=x(t,n,i,this.toBBox),d=r,c=o,void 0,f=Math.max(d.minX,c.minX),y=Math.max(d.minY,c.minY),p=Math.min(d.maxX,c.maxX),v=Math.min(d.maxY,c.maxY),s=Math.max(0,p-f)*Math.max(0,v-y),a=g(r)+g(o),s<h?(h=s,l=n,u=a<u?a:u):s===h&&a<u&&(u=a,l=n);return l},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:o,r=t.leaf?this.compareMinY:s;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,o,s=this.toBBox,a=x(t,0,e,s),h=x(t,i-e,i,s),u=c(a)+c(h);for(r=e;r<i-e;r++)o=t.children[r],d(a,t.leaf?s(o):o),u+=c(a);for(r=i-e-1;e<=r;r--)o=t.children[r],d(h,t.leaf?s(o):o),u+=c(h);return u},_adjustParentBBoxes:function(t,e,i){for(var n=i;0<=n;n--)d(e[n],t)},_condense:function(t){for(var e,i=t.length-1;0<=i;i--)0===t[i].children.length?0<i?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():f(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:10}],13:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.valid=i.toPoints=i.toPath=void 0;var n=s(t("./toPath")),r=s(t("./toPoints")),o=s(t("./valid"));function s(t){return t&&t.__esModule?t:{default:t}}i.toPath=n.default,i.toPoints=r.default,i.valid=o.default},{"./toPath":14,"./toPoints":15,"./valid":16}],14:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var n,r=t("./toPoints"),o=(n=r)&&n.__esModule?n:{default:n};var s=function(t){var e="",i=0,n=void 0,r=!0,o=!1,s=void 0;try{for(var a,h=t[Symbol.iterator]();!(r=(a=h.next()).done);r=!0){var u=a.value,l=u.curve,d=void 0!==l&&l,c=u.moveTo,f=u.x,y=u.y,p=0===i||c,v=i===t.length-1||t[i+1].moveTo,x=0===i?null:t[i-1];if(p)n=u,v||(e+="M"+f+","+y);else if(d){switch(d.type){case"arc":var g=u.curve,m=g.largeArcFlag,w=void 0===m?0:m,b=g.rx,M=g.ry,k=g.sweepFlag,_=void 0===k?0:k,N=g.xAxisRotation;e+="A"+b+","+M+","+(void 0===N?0:N)+","+w+","+_+","+f+","+y;break;case"cubic":var C=u.curve;e+="C"+C.x1+","+C.y1+","+C.x2+","+C.y2+","+f+","+y;break;case"quadratic":var S=u.curve;e+="Q"+S.x1+","+S.y1+","+f+","+y}v&&f===n.x&&y===n.y&&(e+="Z")}else v&&f===n.x&&y===n.y?e+="Z":f!==x.x&&y!==x.y?e+="L"+f+","+y:f!==x.x?e+="H"+f:y!==x.y&&(e+="V"+y);i++}}catch(t){o=!0,s=t}finally{try{!r&&h.return&&h.return()}finally{if(o)throw s}}return e};i.default=function(t){var e=Array.isArray(t),i=e?Array.isArray(t[0]):"g"===t.type,n=e?t:i?t.shapes.map(function(t){return(0,o.default)(t)}):(0,o.default)(t);return i?n.map(function(t){return s(t)}):s(n)}},{"./toPoints":15}],15:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};var r=function(t){var e=t.type,i=function(t,e){var i={};for(var n in t)0<=e.indexOf(n)||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}(t,["type"]);switch(e){case"circle":return o(i);case"ellipse":return s(i);case"line":return a(i);case"path":return h(i);case"polygon":return u(i);case"polyline":return l(i);case"rect":return c(i);case"g":return p(i);default:throw new Error("Not a valid shape type")}},o=function(t){var e=t.cx,i=t.cy,n=t.r;return[{x:e,y:i-n,moveTo:!0},{x:e,y:i+n,curve:{type:"arc",rx:n,ry:n,sweepFlag:1}},{x:e,y:i-n,curve:{type:"arc",rx:n,ry:n,sweepFlag:1}}]},s=function(t){var e=t.cx,i=t.cy,n=t.rx,r=t.ry;return[{x:e,y:i-r,moveTo:!0},{x:e,y:i+r,curve:{type:"arc",rx:n,ry:r,sweepFlag:1}},{x:e,y:i-r,curve:{type:"arc",rx:n,ry:r,sweepFlag:1}}]},a=function(t){var e=t.x1,i=t.x2;return[{x:e,y:t.y1,moveTo:!0},{x:i,y:t.y2}]},q=/[MmLlHhVvCcSsQqTtAaZz]/g,X={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},Y=["a","c","h","l","m","q","s","t","v"],I=["xAxisRotation","largeArcFlag","sweepFlag"],h=function(t){for(var e,i=t.d,n=i.match(q),r=i.split(q).map(function(t){return t.replace(/[0-9]+-/g,function(t){return t.slice(0,-1)+" -"})}).map(function(t){return t.replace(/\.[0-9]+/g,function(t){return t+" "})}).map(function(t){return t.trim()}).filter(function(t){return 0<t.length}).map(function(t){return t.split(/[ ,]+/).map(parseFloat).filter(function(t){return!isNaN(t)})}),o=[],s=void 0,a=0,h=n.length;a<h;a++){var u=n[a],l=u.toUpperCase(),d=X[l],c=(e=u,-1!==Y.indexOf(e));if(0<d)for(var f=r.shift(),y=f.length/d,p=0;p<y;p++){var v=o[o.length-1]||{x:0,y:0};switch(l){case"M":var x=(c?v.x:0)+f.shift(),g=(c?v.y:0)+f.shift();0===p?(s={x:x,y:g},o.push({x:x,y:g,moveTo:!0})):o.push({x:x,y:g});break;case"L":o.push({x:(c?v.x:0)+f.shift(),y:(c?v.y:0)+f.shift()});break;case"H":o.push({x:(c?v.x:0)+f.shift(),y:v.y});break;case"V":o.push({x:v.x,y:(c?v.y:0)+f.shift()});break;case"A":o.push({curve:{type:"arc",rx:f.shift(),ry:f.shift(),xAxisRotation:f.shift(),largeArcFlag:f.shift(),sweepFlag:f.shift()},x:(c?v.x:0)+f.shift(),y:(c?v.y:0)+f.shift()});var m=!0,w=!1,b=void 0;try{for(var M,k=I[Symbol.iterator]();!(m=(M=k.next()).done);m=!0){var _=M.value;0===o[o.length-1].curve[_]&&delete o[o.length-1].curve[_]}}catch(t){w=!0,b=t}finally{try{!m&&k.return&&k.return()}finally{if(w)throw b}}break;case"C":o.push({curve:{type:"cubic",x1:(c?v.x:0)+f.shift(),y1:(c?v.y:0)+f.shift(),x2:(c?v.x:0)+f.shift(),y2:(c?v.y:0)+f.shift()},x:(c?v.x:0)+f.shift(),y:(c?v.y:0)+f.shift()});break;case"S":var N=(c?v.x:0)+f.shift(),C=(c?v.y:0)+f.shift(),S=(c?v.x:0)+f.shift(),B=(c?v.y:0)+f.shift(),A={},F=void 0,D=void 0;v.curve&&"cubic"===v.curve.type?(A.x=Math.abs(v.x-v.curve.x2),A.y=Math.abs(v.y-v.curve.y2),F=v.x<v.curve.x2?v.x-A.x:v.x+A.x,D=v.y<v.curve.y2?v.y-A.y:v.y+A.y):(A.x=Math.abs(S-N),A.y=Math.abs(B-C),F=v.x,D=v.y),o.push({curve:{type:"cubic",x1:F,y1:D,x2:N,y2:C},x:S,y:B});break;case"Q":o.push({curve:{type:"quadratic",x1:(c?v.x:0)+f.shift(),y1:(c?v.y:0)+f.shift()},x:(c?v.x:0)+f.shift(),y:(c?v.y:0)+f.shift()});break;case"T":var P=(c?v.x:0)+f.shift(),T=(c?v.y:0)+f.shift(),R=void 0,O=void 0;if(v.curve&&"quadratic"===v.curve.type){var j=Math.abs(v.x-v.curve.x1),E=Math.abs(v.y-v.curve.y1);R=v.x<v.curve.x1?v.x-j:v.x+j,O=v.y<v.curve.y1?v.y-E:v.y+E}else R=v.x,O=v.y;o.push({curve:{type:"quadratic",x1:R,y1:O},x:P,y:T})}}else{var H=o[o.length-1]||{x:0,y:0};H.x===s.x&&H.y===s.y||o.push({x:s.x,y:s.y})}}return o},u=function(t){var e=t.points;return d({closed:!0,points:e})},l=function(t){var e=t.points;return d({closed:!1,points:e})},d=function(t){var e=t.closed,i=t.points.split(/[\s,]+/).map(function(t){return parseFloat(t)}).reduce(function(t,e,i){return i%2==0?t.push({x:e}):t[(i-1)/2].y=e,t},[]);return e&&i.push(n({},i[0])),i[0].moveTo=!0,i},c=function(t){var e=t.height,i=t.rx,n=t.ry,r=t.width,o=t.x,s=t.y;return i||n?y({height:e,rx:i||n,ry:n||i,width:r,x:o,y:s}):f({height:e,width:r,x:o,y:s})},f=function(t){var e=t.height,i=t.width,n=t.x,r=t.y;return[{x:n,y:r,moveTo:!0},{x:n+i,y:r},{x:n+i,y:r+e},{x:n,y:r+e},{x:n,y:r}]},y=function(t){var e=t.height,i=t.rx,n=t.ry,r=t.width,o=t.x,s=t.y,a={type:"arc",rx:i,ry:n,sweepFlag:1};return[{x:o+i,y:s,moveTo:!0},{x:o+r-i,y:s},{x:o+r,y:s+n,curve:a},{x:o+r,y:s+e-n},{x:o+r-i,y:s+e,curve:a},{x:o+i,y:s+e},{x:o,y:s+e-n,curve:a},{x:o,y:s+n},{x:o+i,y:s,curve:a}]},p=function(t){return t.shapes.map(function(t){return r(t)})};i.default=r},{}],16:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},n=function(t){var e=[{match:["circle","ellipse","line","path","polygon","polyline","rect","g"],prop:"type",required:!0,type:"string"}];switch(t.type){case"circle":e.push({prop:"cx",required:!0,type:"number"}),e.push({prop:"cy",required:!0,type:"number"}),e.push({prop:"r",required:!0,type:"number"});break;case"ellipse":e.push({prop:"cx",required:!0,type:"number"}),e.push({prop:"cy",required:!0,type:"number"}),e.push({prop:"rx",required:!0,type:"number"}),e.push({prop:"ry",required:!0,type:"number"});break;case"line":e.push({prop:"x1",required:!0,type:"number"}),e.push({prop:"x2",required:!0,type:"number"}),e.push({prop:"y1",required:!0,type:"number"}),e.push({prop:"y2",required:!0,type:"number"});break;case"path":e.push({prop:"d",required:!0,type:"string"});break;case"polygon":case"polyline":e.push({prop:"points",required:!0,type:"string"});break;case"rect":e.push({prop:"height",required:!0,type:"number"}),e.push({prop:"rx",type:"number"}),e.push({prop:"ry",type:"number"}),e.push({prop:"width",required:!0,type:"number"}),e.push({prop:"x",required:!0,type:"number"}),e.push({prop:"y",required:!0,type:"number"});break;case"g":e.push({prop:"shapes",required:!0,type:"array"})}return e};i.default=function(t){var e=function e(o){var t=n(o),s=[];if(t.map(function(t){var e=t.match,i=t.prop,n=t.required,r=t.type;void 0===o[i]?n&&s.push(i+" prop is required"+("type"===i?"":" on a "+o.type)):(void 0!==r&&("array"===r?Array.isArray(o[i])||s.push(i+" prop must be of type array"):a(o[i])!==r&&s.push(i+" prop must be of type "+r)),Array.isArray(e)&&-1===e.indexOf(o[i])&&s.push(i+" prop must be one of "+e.join(", ")))}),"g"===o.type&&Array.isArray(o.shapes)){var i=o.shapes.map(function(t){return e(t)});return[].concat.apply(s,i)}return s}(t);return{errors:e,valid:0===e.length}}},{}],17:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||r,0<this.length)for(var i=(this.length>>1)-1;0<=i;i--)this._down(i)}function r(t,e){return t<e?-1:e<t?1:0}e.exports=n,(e.exports.default=n).prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,i=this.compare,n=e[t];0<t;){var r=t-1>>1,o=e[r];if(0<=i(n,o))break;e[t]=o,t=r}e[t]=n},_down:function(t){for(var e=this.data,i=this.compare,n=this.length>>1,r=e[t];t<n;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&i(e[s],a)<0&&(a=e[o=s]),0<=i(a,r))break;e[t]=a,t=o}e[t]=r}}},{}],18:[function(t,a,e){!function t(e,i,n){var r=function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(!(this instanceof o))return new o(t,e);r(t)?(e=t[1],t=t[0]):"object"===_typeof2(t)&&t&&(e=t.y,t=t.x),this.x=o.clean(t||0),this.y=o.clean(e||0)}o.prototype={change:function(t){if("function"==typeof t)this.observers?this.observers.push(t):this.observers=[t];else if(this.observers&&this.observers.length)for(var e=this.observers.length-1;0<=e;e--)this.observers[e](this,t);return this},ignore:function(t){if(this.observers)if(t)for(var e=this.observers,i=e.length;i--;)e[i]===t&&e.splice(i,1);else this.observers=[];return this},set:function(t,e,i){if("number"!=typeof t&&(i=e,e=t.y,t=t.x),this.x===t&&this.y===e)return this;var n=null;return!1!==i&&this.observers&&this.observers.length&&(n=this.clone()),this.x=o.clean(t),this.y=o.clean(e),!1!==i?this.change(n):void 0},zero:function(){return this.set(0,0)},clone:function(){return new this.constructor(this.x,this.y)},negate:function(t){return t?new this.constructor(-this.x,-this.y):this.set(-this.x,-this.y)},add:function(t,e,i){return"number"!=typeof t&&(i=e,r(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)),t+=this.x,e+=this.y,i?new this.constructor(t,e):this.set(t,e)},subtract:function(t,e,i){return"number"!=typeof t&&(i=e,r(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)),t=this.x-t,e=this.y-e,i?new this.constructor(t,e):this.set(t,e)},multiply:function(t,e,i){return"number"!=typeof t?(i=e,r(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)):"number"!=typeof e&&(i=e,e=t),t*=this.x,e*=this.y,i?new this.constructor(t,e):this.set(t,e)},rotate:function(t,e,i){var n,r,o=this.x,s=this.y,a=Math.cos(t),h=Math.sin(t);return n=a*o-(e=e?-1:1)*h*s,r=e*h*o+a*s,i?new this.constructor(n,r):this.set(n,r)},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},lengthSquared:function(){var t=this.x,e=this.y;return t*t+e*e},distance:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},nearest:function(t){for(var e,i=Number.MAX_VALUE,n=null,r=t.length-1;0<=r;r--)(e=this.distance(t[r]))<=i&&(i=e,n=t[r]);return n},normalize:function(t){var e=this.length(),i=e<Number.MIN_VALUE?0:1/e;return t?new this.constructor(this.x*i,this.y*i):this.set(this.x*i,this.y*i)},equal:function(t,e){return"number"!=typeof t&&(r(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)),o.clean(t)===this.x&&o.clean(e)===this.y},abs:function(t){var e=Math.abs(this.x),i=Math.abs(this.y);return t?new this.constructor(e,i):this.set(e,i)},min:function(t,e){var i=this.x,n=this.y,r=t.x,o=t.y,s=i<r?i:r,a=n<o?n:o;return e?new this.constructor(s,a):this.set(s,a)},max:function(t,e){var i=this.x,n=this.y,r=t.x,o=t.y,s=r<i?i:r,a=o<n?n:o;return e?new this.constructor(s,a):this.set(s,a)},clamp:function(t,e,i){var n=this.min(e,!0).max(t);return i?n:this.set(n.x,n.y)},lerp:function(t,e,i){return this.add(t.subtract(this,!0).multiply(e),i)},skew:function(t){return t?new this.constructor(-this.y,this.x):this.set(-this.y,this.x)},dot:function(t){return o.clean(this.x*t.x+t.y*this.y)},perpDot:function(t){return o.clean(this.x*t.y-this.y*t.x)},angleTo:function(t){return Math.atan2(this.perpDot(t),this.dot(t))},divide:function(t,e,i){if("number"!=typeof t?(i=e,r(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)):"number"!=typeof e&&(i=e,e=t),0===t||0===e)throw new Error("division by zero");if(isNaN(t)||isNaN(e))throw new Error("NaN detected");return i?new this.constructor(this.x/t,this.y/e):this.set(this.x/t,this.y/e)},isPointOnLine:function(t,e){return(t.y-this.y)*(t.x-e.x)==(t.y-e.y)*(t.x-this.x)},toArray:function(){return[this.x,this.y]},fromArray:function(t){return this.set(t[0],t[1])},toJSON:function(){return{x:this.x,y:this.y}},toString:function(){return"("+this.x+", "+this.y+")"},constructor:o},o.fromArray=function(t,e){return new(e||o)(t[0],t[1])},o.precision=i||8;var s=Math.pow(10,o.precision);return o.clean=e||function(t){if(isNaN(t))throw new Error("NaN detected");if(!isFinite(t))throw new Error("Infinity detected");return Math.round(t)===t?t:Math.round(t*s)/s},o.inject=t,e||(o.fast=t(function(t){return t}),void 0!==a&&"object"==_typeof2(a.exports)?a.exports=o:window.Vec2=window.Vec2||o),o}()},{}]},{},[2]);