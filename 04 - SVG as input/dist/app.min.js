"use strict";function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof2(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw o}}return r}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function o(s,a,h){function u(e,t){if(!a[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(l)return l(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=a[e]={exports:{}};s[e][0].call(n.exports,function(t){return u(s[e][1][t]||t)},n,n.exports,o,s,a,h)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,r){e.exports={MinDistance:1,MaxDistance:5,RepulsionRadius:10,AttractionForce:.2,RepulsionForce:.6,AlignmentForce:.55,NodeInjectionInterval:100,DrawNodes:!1,TraceMode:!1,InvertedColors:!1,DebugMode:!1,FillMode:!1}},{}],2:[function(t,e,r){var g,_=t("../../core/Node"),w=t("../../core/Path"),i=t("../../core/World"),T=t("./Settings"),n=t("../../core/node_modules/svg-pathdata"),M=n.SVGPathData,O=(n.SVGPathDataTransformer,n.SVGPathDataEncoder,n.SVGPathDataParser,"differential-growth"),N="hello-world-serif",b="superformula",C=N;new p5(function(x){function t(){g.clearPaths();var t=document.getElementById(C).contentDocument.querySelectorAll("path"),e=new w(x,[],T,!0),r=!0,i=!1,n=void 0;try{for(var o,s=t.entries()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=_slicedToArray(o.value,2),h=a[0],u=a[1],l=new M(u.getAttribute("d")),c={x:0,y:0},d=!0,f=!1,y=void 0;try{for(var p,v=l.commands[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var m=p.value;switch(m.type){case M.MOVE_TO:case M.LINE_TO:e.addNode(new _(x,m.x,m.y,T));break;case M.HORIZ_LINE_TO:e.addNode(new _(x,m.x,c.y,T));break;case M.VERT_LINE_TO:e.addNode(new _(x,c.x,m.y,T));break;case M.CLOSE_PATH:switch(C){case O:e.scale(2.5),e.moveTo(window.innerWidth/2-440,window.innerHeight/2-300);break;case N:e.scale(2.25),e.moveTo(window.innerWidth/2-300,window.innerHeight/2-410)}g.addPath(e),(e=new w(x,[],T,!0)).setInvertedColors(!0)}m.hasOwnProperty("x")&&(c.x=m.x),m.hasOwnProperty("y")&&(c.y=m.y)}}catch(t){f=!0,y=t}finally{try{d||null==v.return||v.return()}finally{if(f)throw y}}C==b&&h==t.length-1&&(e.scale(.7),e.moveTo(280,150),g.addPath(e),e=new w(x,[],T,!0))}}catch(t){i=!0,n=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw n}}g.drawBackground(),g.draw(),g.pause(),setTimeout(function(){g.unpause()},1e3)}x.setup=function(){x.createCanvas(window.innerWidth,window.innerHeight),x.colorMode(x.HSB,255),x.rectMode(x.CENTER),g=new i(x,T),t()},x.draw=function(){g.iterate(),g.draw(),x.noFill(),x.stroke(0),x.rect(window.innerWidth/2-1,window.innerHeight/2-1,800,800)},x.keyReleased=function(){switch(x.key){case"1":C=N,t();break;case"2":C=O,t();break;case"3":C=b,t();break;case"t":g.toggleTraceMode();break;case"n":g.toggleDrawNodes();break;case"r":t();break;case" ":g.paused=!g.paused;break;case"i":g.toggleInvertedColors();break;case"d":g.toggleDebugMode();break;case"f":g.toggleFillMode();break;case"h":g.toggleDrawHistory();break;case"s":g.export()}}})},{"../../core/Node":4,"../../core/Path":5,"../../core/World":6,"../../core/node_modules/svg-pathdata":11,"./Settings":1}],3:[function(t,e,r){e.exports={MinDistance:20,MaxDistance:30,RepulsionRadius:20,MaxVelocity:.1,AttractionForce:.001,RepulsionForce:500,AlignmentForce:.001,NodeInjectionInterval:100,DrawNodes:!1,TraceMode:!1,InvertedColors:!1,DebugMode:!1,FillMode:!1,DrawHistory:!0,HistoryCaptureInterval:1e3,MaxHistorySize:20,UseBrownianMotion:!0,BrownianMotionRange:.01}},{}],4:[function(t,e,r){var u=t("./node_modules/vec2"),l=t("./Defaults"),i=function(t){function h(t,e,r){var i,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l,o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s=5<arguments.length?arguments[5]:void 0,a=6<arguments.length?arguments[6]:void 0;return _classCallCheck(this,h),(i=_possibleConstructorReturn(this,_getPrototypeOf(h).call(this,e,r))).p5=t,i.isFixed=o,i.settings=Object.assign({},l,n),i.velocity=0,i.nextPosition=new u(e,r),i.minDistance=s||n.MinDistance,i.repulsionRadius=a||n.RepulsionRadius,i}return _inherits(h,u),_createClass(h,[{key:"iterate",value:function(){this.isFixed||(this.x=this.p5.lerp(this.x,this.nextPosition.x,this.settings.MaxVelocity),this.y=this.p5.lerp(this.y,this.nextPosition.y,this.settings.MaxVelocity))}},{key:"draw",value:function(){this.isFixed?this.p5.ellipse(this.x,this.y,20):this.p5.ellipse(this.x,this.y,5)}}]),h}();e.exports=i},{"./Defaults":3,"./node_modules/vec2":17}],5:[function(t,e,r){var u=t("./node_modules/rbush-knn"),l=t("./Node"),c=t("./Defaults"),i=function(){function h(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:c,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{h:0,s:0,b:0,a:255},o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{h:0,s:0,b:0,a:255},s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:{h:0,s:0,b:255,a:255},a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{h:0,s:0,b:255,a:255};_classCallCheck(this,h),this.p5=t,this.nodes=e,this.isClosed=i,this.settings=Object.assign({},c,r),this.injectionMode="RANDOM",this.lastNodeInjectTime=0,this.nodeHistory=[],this.drawNodes=this.settings.DrawNodes,this.invertedColors=this.settings.InvertedColors,this.traceMode=this.settings.TraceMode,this.debugMode=this.settings.DebugMode,this.fillMode=this.settings.FillMode,this.useBrownianMotion=this.settings.UseBrownianMotion,this.drawHistory=this.settings.DrawHistory,this.fillColor=n,this.strokeColor=o,this.invertedFillColor=s,this.invertedStrokeColor=a,this.currentFillColor=this.fillColor,this.currentStrokeColor=this.strokeColor,this.invertedColors&&(this.currentFillColor=this.invertedFillColor,this.currentStrokeColor=this.invertedStrokeColor)}return _createClass(h,[{key:"iterate",value:function(t){var e=!0,r=!1,i=void 0;try{for(var n,o=this.nodes.entries()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=_slicedToArray(n.value,2),a=s[0],h=s[1];this.useBrownianMotion&&this.applyBrownianMotion(a),this.applyAttraction(a),this.applyRepulsion(a,t),this.applyAlignment(a),this.avoidWalls(a),h.iterate()}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}this.splitEdges(),this.pruneNodes(),this.p5.millis()-this.lastNodeInjectTime>=this.settings.NodeInjectionInterval&&(this.injectNode(),this.lastNodeInjectTime=this.p5.millis())}},{key:"applyBrownianMotion",value:function(t){this.nodes[t].x+=this.p5.random(-this.settings.BrownianMotionRange/2,this.settings.BrownianMotionRange/2),this.nodes[t].y+=this.p5.random(-this.settings.BrownianMotionRange/2,this.settings.BrownianMotionRange/2)}},{key:"applyAttraction",value:function(t){var e,r=this.getConnectedNodes(t);null!=r.nextNode&&r.nextNode instanceof l&&!this.nodes[t].isFixed&&(e=this.nodes[t].distance(r.nextNode),Math.min(this.nodes[t].minDistance,r.nextNode.minDistance)<e&&(this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,r.nextNode.x,this.settings.AttractionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,r.nextNode.y,this.settings.AttractionForce))),null!=r.previousNode&&r.previousNode instanceof l&&!this.nodes[t].isFixed&&(e=this.nodes[t].distance(r.previousNode),Math.min(this.nodes[t].minDistance,r.previousNode.minDistance)<e&&(this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,r.previousNode.x,this.settings.AttractionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,r.previousNode.y,this.settings.AttractionForce)))}},{key:"applyRepulsion",value:function(t,e){var r=u(e,this.nodes[t].x,this.nodes[t].y,void 0,void 0,this.nodes[t].repulsionRadius*this.nodes[t].repulsionRadius),i=!0,n=!1,o=void 0;try{for(var s,a=r[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var h=s.value;this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].x,h.x,-this.settings.RepulsionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].y,h.y,-this.settings.RepulsionForce)}}catch(t){n=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"applyAlignment",value:function(t){var e=this.getConnectedNodes(t);if(null!=e.previousNode&&e.previousNode instanceof l&&null!=e.nextNode&&e.nextNode instanceof l&&!this.nodes[t].isFixed){var r=this.getMidpointNode(e.previousNode,e.nextNode);this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,r.x,this.settings.AlignmentForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,r.y,this.settings.AlignmentForce)}}},{key:"splitEdges",value:function(){var t=!0,e=!1,r=void 0;try{for(var i,n=this.nodes.entries()[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=_slicedToArray(i.value,2),s=o[0],a=o[1],h=this.getConnectedNodes(s);if(null!=h.previousNode&&h.previousNode instanceof l&&a.distance(h.previousNode)>=this.settings.MaxDistance){var u=this.getMidpointNode(a,h.previousNode);0==s?this.nodes.splice(this.nodes.length,0,u):this.nodes.splice(s,0,u)}}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}},{key:"pruneNodes",value:function(){var t=!0,e=!1,r=void 0;try{for(var i,n=this.nodes.entries()[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=_slicedToArray(i.value,2),s=o[0],a=o[1],h=this.getConnectedNodes(s);null!=h.previousNode&&h.previousNode instanceof l&&a.distance(h.previousNode)<this.settings.MinDistance&&(0==s?this.nodes[this.nodes.length-1].isFixed||this.nodes.splice(this.nodes.length-1,1):this.nodes[s-1].isFixed||this.nodes.splice(s-1,1))}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}},{key:"injectNode",value:function(){switch(this.injectionMode){case"RANDOM":this.injectRandomNode();break;case"CURVATURE":this.injectNodeByCurvature()}}},{key:"injectRandomNode",value:function(){var t=parseInt(this.p5.random(1,this.nodes.length)),e=this.getConnectedNodes(t);if(null!=e.previousNode&&e.previousNode instanceof l&&null!=e.nextNode&&e.nextNode instanceof l&&this.nodes[t].distance(e.previousNode)>this.settings.MinDistance){var r=this.getMidpointNode(this.nodes[t],e.previousNode);this.nodes.splice(t,0,r)}}},{key:"injectNodeByCurvature",value:function(){console.log("test");var t=!0,e=!1,r=void 0;try{for(var i,n=this.nodes.entries()[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=_slicedToArray(i.value,2),s=o[0],a=o[1],h=this.getConnectedNodes(s),u=a.distance(h.previousNode),l=a.distance(h.nextNode);if(180*Math.atan(u/l)/Math.PI<30){console.log(s);var c=this.getMidpointNode(a,h.previousNode),d=this.getMidpointNode(a,h.nextNode);console.log(c),console.log(d),this.p5.noLoop(),0==s?(this.nodes.splice(this.nodes.length-1,0,c),this.nodes.splice(0,1,d)):this.nodes.splice(s,1,c,d)}}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}},{key:"avoidWalls",value:function(t){this.nodes[t].x=this.p5.constrain(this.nodes[t].x,0,window.innerWidth),this.nodes[t].y=this.p5.constrain(this.nodes[t].y,0,window.innerHeight)}},{key:"getConnectedNodes",value:function(t){var e,r;return 0==t&&this.isClosed?e=this.nodes[this.nodes.length-1]:1<=t&&(e=this.nodes[t-1]),t==this.nodes.length-1&&this.isClosed?r=this.nodes[0]:t<=this.nodes.length-1&&(r=this.nodes[t+1]),{previousNode:e,nextNode:r}}},{key:"getMidpointNode",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new l(this.p5,(t.x+e.x)/2,(t.y+e.y)/2,this.settings,r)}},{key:"draw",value:function(){this.drawHistory&&this.drawPreviousEdges(),this.fillMode?this.p5.fill(this.currentFillColor.h,this.currentFillColor.s,this.currentFillColor.b,this.currentFillColor.a):this.p5.noFill(),this.p5.stroke(this.currentStrokeColor.h,this.currentStrokeColor.s,this.currentStrokeColor.b,this.currentStrokeColor.a),this.drawCurrentEdges(),this.drawNodes&&this.drawCurrentNodes()}},{key:"drawCurrentEdges",value:function(){this.drawEdges(this.nodes)}},{key:"drawPreviousEdges",value:function(){var t=!0,e=!1,r=void 0;try{for(var i,n=this.nodeHistory.entries()[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=_slicedToArray(i.value,2),s=o[0],a=o[1];this.p5.stroke(this.currentStrokeColor.h,this.currentStrokeColor.s,this.currentStrokeColor.b,30*s),this.drawEdges(a)}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}},{key:"drawEdges",value:function(t){this.debugMode||this.p5.beginShape();for(var e=0;e<t.length;e++)this.debugMode?0<e&&(this.traceMode?this.p5.stroke(this.p5.map(e,0,t.length-1,0,255,!0),255,255,2):this.p5.stroke(this.p5.map(e,0,t.length-1,0,255,!0),255,255,255),this.p5.line(t[e-1].x,t[e-1].y,t[e].x,t[e].y)):this.p5.vertex(t[e].x,t[e].y);this.isClosed&&(this.debugMode?this.p5.line(t[t.length-1].x,t[t.length-1].y,t[0].x,t[0].y):this.p5.vertex(t[0].x,t[0].y)),this.debugMode||this.p5.endShape()}},{key:"drawCurrentNodes",value:function(){this.p5.noStroke(),this.invertedColors?this.p5.fill(255):this.p5.fill(0);var t=!0,e=!1,r=void 0;try{for(var i,n=this.nodes.entries()[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=_slicedToArray(i.value,2),s=o[0],a=o[1];this.debugMode&&this.p5.fill(this.p5.map(s,0,this.nodes.length-1,0,255,!0),255,255,255),a.draw()}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}},{key:"addToHistory",value:function(){this.nodeHistory.length==this.settings.MaxHistorySize&&this.nodeHistory.shift(),this.nodeHistory.push(Object.assign([],JSON.parse(JSON.stringify(this.nodes))))}},{key:"moveTo",value:function(t,e){var r=!0,i=!1,n=void 0;try{for(var o,s=this.nodes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value;a.x+=t,a.y+=e}}catch(t){i=!0,n=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw n}}}},{key:"scale",value:function(t){var e=!0,r=!1,i=void 0;try{for(var n,o=this.nodes[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;s.x*=t,s.y*=t}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}}},{key:"addNode",value:function(t){this.nodes.push(t)}},{key:"getTraceMode",value:function(){return this.traceMode}},{key:"getInvertedColors",value:function(){return this.invertedColors}},{key:"setTraceMode",value:function(t){this.traceMode=t,this.traceMode,this.currentFillColor.a=255,this.currentStrokeColor.a=255}},{key:"setInvertedColors",value:function(t){this.invertedColors=t,this.invertedColors?(this.currentFillColor=this.invertedFillColor,this.currentStrokeColor=this.invertedStrokeColor):(this.currentFillColor=this.fillColor,this.currentStrokeColor=this.strokeColor),this.setTraceMode(this.traceMode)}},{key:"toggleTraceMode",value:function(){this.setTraceMode(!this.getTraceMode())}},{key:"toggleInvertedColors",value:function(){this.setInvertedColors(!this.getInvertedColors())}}]),h}();e.exports=i},{"./Defaults":3,"./Node":4,"./node_modules/rbush-knn":9}],6:[function(t,e,r){var o=t("./node_modules/rbush"),f=t("./node_modules/svg-points/").toPath,m=t("./node_modules/file-saver").saveAs,s=t("./Defaults"),i=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,n),this.p5=t,this.paths=r,this.paused=!1,this.settings=Object.assign({},s,e),this.traceMode=this.settings.TraceMode,this.drawNodes=this.settings.DrawNodes,this.debugMode=this.settings.DebugMode,this.invertedColors=this.settings.InvertedColors,this.fillMode=this.settings.FillMode,this.drawHistory=this.settings.DrawHistory,this.useBrownianMotion=this.settings.UseBrownianMotion,this.tree=o(9,[".x",".y",".x",".y"]),this.buildTree();var i=this;setInterval(function(){i.addToHistory()},this.settings.HistoryCaptureInterval)}return _createClass(n,[{key:"iterate",value:function(){if(this.buildTree(),null!=this.paths&&this.paths instanceof Array&&0<this.paths.length&&!this.paused){var t=!0,e=!1,r=void 0;try{for(var i,n=this.paths[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){i.value.iterate(this.tree)}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}}},{key:"draw",value:function(){if(!this.paused){this.traceMode||this.drawBackground();var t=!0,e=!1,r=void 0;try{for(var i,n=this.paths[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){i.value.draw()}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}}},{key:"drawBackground",value:function(){this.invertedColors?this.p5.background(0):this.p5.background(255)}},{key:"buildTree",value:function(){this.tree.clear();var t=!0,e=!1,r=void 0;try{for(var i,n=this.paths[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=i.value;this.tree.load(o.nodes)}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}},{key:"addPath",value:function(t){t.drawNodes=this.drawNodes,t.debugMode=this.debugMode,t.fillMode=this.fillMode,t.useBrownianMotion=this.useBrownianMotion,t.setInvertedColors(this.invertedColors),t.setTraceMode(this.traceMode),this.paths.push(t)}},{key:"addPaths",value:function(t){var e=!0,r=!1,i=void 0;try{for(var n,o=t[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;this.addPath(s)}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}}},{key:"addToHistory",value:function(){if(!this.paused){var t=!0,e=!1,r=void 0;try{for(var i,n=this.paths[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){i.value.addToHistory()}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}}},{key:"export",value:function(){var t=document.createElement("svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.setAttribute("width",window.innerWidth),t.setAttribute("height",window.innerHeight),t.setAttribute("viewBox","0 0 "+window.innerWidth+" "+window.innerHeight);var e=!0,r=!1,i=void 0;try{for(var n,o=this.paths[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;if(this.drawHistory){var a=!0,h=!1,u=void 0;try{for(var l,c=s.nodeHistory[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;t.appendChild(this.createPathElFromNodes(d,s.isClosed))}}catch(t){h=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(h)throw u}}}t.appendChild(this.createPathElFromNodes(s.nodes),s.isClosed)}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}var f=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),y=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",f);y.replaceChild(t,y.documentElement);var p=(new XMLSerializer).serializeToString(y),v=new Blob([p.replace(/></g,">\n\r<")]);m(v,"differential-growth-"+Date.now()+".svg")}},{key:"createPathElFromNodes",value:function(t,e){var r="",i=!0,n=!1,o=void 0;try{for(var s,a=t.entries()[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var h=_slicedToArray(s.value,2),u=h[0],l=h[1];r+=l.x+","+l.y,u<t.length-1&&(r+=" ")}}catch(t){n=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw o}}var c=f({type:"polyline",points:r});e&&(c+=" Z");var d=document.createElement("path");return d.setAttribute("d",c),d.setAttribute("style","fill: none; stroke: black; stroke-width: 1"),d}},{key:"clearPaths",value:function(){this.paths=[]}},{key:"pause",value:function(){this.paused=!0}},{key:"unpause",value:function(){this.paused=!1}},{key:"getDrawNodes",value:function(){return this.drawNodes}},{key:"getDebugMode",value:function(){return this.debugMode}},{key:"getFillMode",value:function(){return this.fillMode}},{key:"getDrawHistory",value:function(){return this.drawHistory}},{key:"setDrawNodes",value:function(t){this.drawBackground();var e=!0,r=!1,i=void 0;try{for(var n,o=this.paths[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;s.drawNodes=t,s.draw()}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}this.drawNodes=t}},{key:"setDebugMode",value:function(t){this.drawBackground();var e=!0,r=!1,i=void 0;try{for(var n,o=this.paths[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;s.debugMode=t,s.draw()}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}this.debugMode=t}},{key:"setFillMode",value:function(t){this.drawBackground();var e=!0,r=!1,i=void 0;try{for(var n,o=this.paths[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;s.fillMode=t,s.draw()}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}this.fillMode=t}},{key:"setDrawHistory",value:function(t){this.drawBackground();var e=!0,r=!1,i=void 0;try{for(var n,o=this.paths[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;s.drawHistory=t,s.draw()}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}this.drawHistory=t}},{key:"toggleDrawNodes",value:function(){this.setDrawNodes(!this.getDrawNodes())}},{key:"toggleTraceMode",value:function(){this.traceMode=!this.traceMode,this.drawBackground();var t=!0,e=!1,r=void 0;try{for(var i,n=this.paths[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=i.value;o.toggleTraceMode(),o.draw()}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}},{key:"toggleInvertedColors",value:function(){this.invertedColors=!this.invertedColors,this.drawBackground();var t=!0,e=!1,r=void 0;try{for(var i,n=this.paths[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=i.value;o.toggleInvertedColors(),o.draw()}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}},{key:"toggleDebugMode",value:function(){this.setDebugMode(!this.getDebugMode())}},{key:"toggleFillMode",value:function(){this.setFillMode(!this.getFillMode())}},{key:"toggleDrawHistory",value:function(){this.setDrawHistory(!this.getDrawHistory())}}]),n}();e.exports=i},{"./Defaults":3,"./node_modules/file-saver":7,"./node_modules/rbush":10,"./node_modules/svg-points/":12}],7:[function(t,i,n){(function(e){var t,r;t=this,r=function(){function l(t,e,r){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){n(i.response,e,r)},i.onerror=function(){console.error("could not download file")},i.send()}function s(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&e.status<=299}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var c=function(){try{return Function("return this")()||(0,eval)("this")}catch(t){return"object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window.window===window?window:"object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self.self===self?self:"object"==_typeof2(e)&&e.global===e?e:this}}(),n=c.saveAs||"object"!=("undefined"==typeof window?"undefined":_typeof2(window))||window!==c?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,r){var i=c.URL||c.webkitURL,n=document.createElement("a");e=e||t.name||"download",n.download=e,n.rel="noopener","string"==typeof t?(n.href=t,n.origin===location.origin?o(n):s(n.href)?l(t,e,r):o(n,n.target="_blank")):(n.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){o(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob((n=t,void 0===(o=r)?o={autoBom:!1}:"object"!=_typeof2(o)&&(console.warn("Depricated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\ufeff",n],{type:n.type}):n),e);else if(s(t))l(t,e,r);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){clikc(i)})}var n,o}:function(t,e,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return l(t,e,r);var n="application/octet-stream"===t.type,o=/constructor/i.test(c.HTMLElement)||c.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&o)&&"object"==("undefined"==typeof FileReader?"undefined":_typeof2(FileReader))){var a=new FileReader;a.onloadend=function(){var t=a.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},a.readAsDataURL(t)}else{var h=c.URL||c.webkitURL,u=h.createObjectURL(t);i?i.location=u:location.href=u,i=null,setTimeout(function(){h.revokeObjectURL(u)},4e4)}};i.exports=c.saveAs=n.saveAs=n},"function"==typeof define&&define.amd?define([],r):void 0!==n?r():(r(),t.FileSaver={})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,r){var i,n;i=this,n=function(){function v(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function o(t,e){return t<e?-1:e<t?1:0}return function(t,e,r,i,n){!function t(e,r,i,n,o){for(;i<n;){if(600<n-i){var s=n-i+1,a=r-i+1,h=Math.log(s),u=.5*Math.exp(2*h/3),l=.5*Math.sqrt(h*u*(s-u)/s)*(a-s/2<0?-1:1),c=Math.max(i,Math.floor(r-a*u/s+l)),d=Math.min(n,Math.floor(r+(s-a)*u/s+l));t(e,r,c,d,o)}var f=e[r],y=i,p=n;for(v(e,i,r),0<o(e[n],f)&&v(e,i,n);y<p;){for(v(e,y,p),y++,p--;o(e[y],f)<0;)y++;for(;0<o(e[p],f);)p--}0===o(e[i],f)?v(e,i,p):v(e,++p,n),p<=r&&(i=p+1),r<=p&&(n=p-1)}}(t,e,r||0,i||t.length-1,n||o)}},"object"===_typeof2(r)&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):i.quickselect=n()},{}],9:[function(t,e,r){var g=t("tinyqueue");function i(t,e,r,i,n,o){for(var s,a,h,u,l,c,d,f,y,p=t.data,v=[],m=t.toBBox,x=new g(null,_);p;){for(s=0;s<p.children.length;s++)a=p.children[s],l=e,c=r,d=p.leaf?m(a):a,void 0,f=w(l,d.minX,d.maxX),y=w(c,d.minY,d.maxY),h=f*f+y*y,(!o||h<=o)&&x.push({node:a,isItem:p.leaf,dist:h});for(;x.length&&x.peek().isItem;)if(u=x.pop().node,n&&!n(u)||v.push(u),i&&v.length===i)return v;(p=x.pop())&&(p=p.node)}return v}function _(t,e){return t.dist-e.dist}function w(t,e,r){return t<e?e-t:t<=r?0:t-r}e.exports=i,e.exports.default=i},{tinyqueue:16}],10:[function(t,e,r){e.exports=i,e.exports.default=i;var a=t("quickselect");function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function l(t,e,r){if(!r)return e.indexOf(t);for(var i=0;i<e.length;i++)if(r(t,e[i]))return i;return-1}function f(t,e){m(t,0,t.children.length,e,t)}function m(t,e,r,i,n){n||(n=p(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,s=e;s<r;s++)o=t.children[s],c(n,t.leaf?i(o):o);return n}function c(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function o(t,e){return t.minX-e.minX}function s(t,e){return t.minY-e.minY}function x(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function y(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function u(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,r,i,n){for(var o,s=[e,r];s.length;)(r=s.pop())-(e=s.pop())<=i||(o=e+Math.ceil((r-e)/i/2)*i,a(t,o,e,r,n),s.push(e,o,o,r))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],i=this.toBBox;if(!u(t,e))return r;for(var n,o,s,a,h=[];e;){for(n=0,o=e.children.length;n<o;n++)s=e.children[n],u(t,a=e.leaf?i(s):s)&&(e.leaf?r.push(s):y(t,a)?this._all(s,r):h.push(s));e=h.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!u(t,e))return!1;for(var i,n,o,s,a=[];e;){for(i=0,n=e.children.length;i<n;i++)if(o=e.children[i],u(t,s=e.leaf?r(o):o)){if(e.leaf||y(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(t,e){if(!t)return this;for(var r,i,n,o,s=this.data,a=this.toBBox(t),h=[],u=[];s||h.length;){if(s||(s=h.pop(),i=h[h.length-1],r=u.pop(),o=!0),s.leaf&&-1!==(n=l(t,s.children,e)))return s.children.splice(n,1),h.push(s),this._condense(h),this;o||s.leaf||!y(s,a)?i?(r++,s=i.children[r],o=!1):s=null:(h.push(s),u.push(r),r=0,s=(i=s).children[0])}return this},toBBox:function(t){return t},compareMinX:o,compareMinY:s,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,i){var n,o=r-e+1,s=this._maxEntries;if(o<=s)return f(n=p(t.slice(e,r+1)),this.toBBox),n;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(n=p([])).leaf=!1,n.height=i;var a,h,u,l,c=Math.ceil(o/s),d=c*Math.ceil(Math.sqrt(s));for(v(t,e,r,d,this.compareMinX),a=e;a<=r;a+=d)for(v(t,a,u=Math.min(a+d-1,r),c,this.compareMinY),h=a;h<=u;h+=c)l=Math.min(h+c-1,u),n.children.push(this._build(t,h,l,i-1));return f(n,this.toBBox),n},_chooseSubtree:function(t,e,r,i){for(var n,o,s,a,h,u,l,c,d,f;i.push(e),!e.leaf&&i.length-1!==r;){for(l=c=1/0,n=0,o=e.children.length;n<o;n++)h=x(s=e.children[n]),d=t,f=s,(u=(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-h)<c?(c=u,l=h<l?h:l,a=s):u===c&&h<l&&(l=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,r){var i=this.toBBox,n=r?t:i(t),o=[],s=this._chooseSubtree(n,this.data,e,o);for(s.children.push(t),c(s,n);0<=e&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},_split:function(t,e){var r=t[e],i=r.children.length,n=this._minEntries;this._chooseSplitAxis(r,n,i);var o=this._chooseSplitIndex(r,n,i),s=p(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,f(r,this.toBBox),f(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var i,n,o,s,a,h,u,l,c,d,f,y,p,v;for(h=u=1/0,i=e;i<=r-e;i++)n=m(t,0,i,this.toBBox),o=m(t,i,r,this.toBBox),c=n,d=o,void 0,f=Math.max(c.minX,d.minX),y=Math.max(c.minY,d.minY),p=Math.min(c.maxX,d.maxX),v=Math.min(c.maxY,d.maxY),s=Math.max(0,p-f)*Math.max(0,v-y),a=x(n)+x(o),s<h?(h=s,l=i,u=a<u?a:u):s===h&&a<u&&(u=a,l=i);return l},_chooseSplitAxis:function(t,e,r){var i=t.leaf?this.compareMinX:o,n=t.leaf?this.compareMinY:s;this._allDistMargin(t,e,r,i)<this._allDistMargin(t,e,r,n)&&t.children.sort(i)},_allDistMargin:function(t,e,r,i){t.children.sort(i);var n,o,s=this.toBBox,a=m(t,0,e,s),h=m(t,r-e,r,s),u=d(a)+d(h);for(n=e;n<r-e;n++)o=t.children[n],c(a,t.leaf?s(o):o),u+=d(a);for(n=r-e-1;e<=n;n--)o=t.children[n],c(h,t.leaf?s(o):o),u+=d(h);return u},_adjustParentBBoxes:function(t,e,r){for(var i=r;0<=i;i--)c(e[i],t)},_condense:function(t){for(var e,r=t.length-1;0<=r;r--)0===t[r].children.length?0<r?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():f(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:8}],11:[function(t,e,r){var i,n;i=this,n=function(s){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function A(t,e){var r=t[0],i=t[1];return[r*Math.cos(e)-i*Math.sin(e),r*Math.sin(e)+i*Math.cos(e)]}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++)if("number"!=typeof t[r])throw new Error("assertNumbers arguments["+r+"] is not a number. "+_typeof2(t[r])+" == typeof "+t[r]);return!0}var v=Math.PI;function E(t,e,r){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var i=t.rX,n=t.rY,o=t.x,s=t.y;i=Math.abs(t.rX),n=Math.abs(t.rY);var a=A([(e-o)/2,(r-s)/2],-t.xRot/180*v),h=a[0],u=a[1],l=Math.pow(h,2)/Math.pow(i,2)+Math.pow(u,2)/Math.pow(n,2);1<l&&(i*=Math.sqrt(l),n*=Math.sqrt(l)),t.rX=i,t.rY=n;var c=Math.pow(i,2)*Math.pow(u,2)+Math.pow(n,2)*Math.pow(h,2),d=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(i,2)*Math.pow(n,2)-c)/c)),f=i*u/n*d,y=-n*h/i*d,p=A([f,y],t.xRot/180*v);t.cX=p[0]+(e+o)/2,t.cY=p[1]+(r+s)/2,t.phi1=Math.atan2((u-y)/n,(h-f)/i),t.phi2=Math.atan2((-u-y)/n,(-h-f)/i),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*v),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*v),t.phi1*=180/v,t.phi2*=180/v}function S(t,e,r){a(t,e,r);var i=t*t+e*e-r*r;if(i<0)return[];if(0===i)return[[t*r/(t*t+e*e),e*r/(t*t+e*e)]];var n=Math.sqrt(i);return[[(t*r+e*n)/(t*t+e*e),(e*r-t*n)/(t*t+e*e)],[(t*r-e*n)/(t*t+e*e),(e*r+t*n)/(t*t+e*e)]]}var R=Math.PI/180;function k(t,e,r){return(1-r)*t+r*e}function D(t,e,r,i){return t+Math.cos(i/180*v)*e+Math.sin(i/180*v)*r}function I(t,e,r,i){var n=e-t,o=r-e,s=3*n+3*(i-r)-6*o,a=6*(o-n),h=3*n;return Math.abs(s)<1e-6?[-h/a]:function(t,e,r){void 0===r&&(r=1e-6);var i=t*t/4-h/s;if(i<-r)return[];if(i<=r)return[-t/2];var n=Math.sqrt(i);return[-t/2-n,-t/2+n]}(a/s,0,1e-6)}function P(t,e,r,i,n){var o=1-n;return t*(o*o*o)+e*(3*o*o*n)+r*(3*o*n*n)+i*(n*n*n)}!function(t){function e(){return h(function(t,e,r){return t.relative&&(void 0!==t.x1&&(t.x1+=e),void 0!==t.y1&&(t.y1+=r),void 0!==t.x2&&(t.x2+=e),void 0!==t.y2&&(t.y2+=r),void 0!==t.x&&(t.x+=e),void 0!==t.y&&(t.y+=r),t.relative=!1),t})}function r(){var i=NaN,n=NaN,o=NaN,s=NaN;return h(function(t,e,r){return t.type&H.SMOOTH_CURVE_TO&&(t.type=H.CURVE_TO,i=isNaN(i)?e:i,n=isNaN(n)?r:n,t.x1=t.relative?e-i:2*e-i,t.y1=t.relative?r-n:2*r-n),t.type&H.CURVE_TO?(i=t.relative?e+t.x2:t.x2,n=t.relative?r+t.y2:t.y2):n=i=NaN,t.type&H.SMOOTH_QUAD_TO&&(t.type=H.QUAD_TO,o=isNaN(o)?e:o,s=isNaN(s)?r:s,t.x1=t.relative?e-o:2*e-o,t.y1=t.relative?r-s:2*r-s),t.type&H.QUAD_TO?(o=t.relative?e+t.x1:t.x1,s=t.relative?r+t.y1:t.y1):s=o=NaN,t})}function i(){var o=NaN,s=NaN;return h(function(t,e,r){if(t.type&H.SMOOTH_QUAD_TO&&(t.type=H.QUAD_TO,o=isNaN(o)?e:o,s=isNaN(s)?r:s,t.x1=t.relative?e-o:2*e-o,t.y1=t.relative?r-s:2*r-s),t.type&H.QUAD_TO){o=t.relative?e+t.x1:t.x1,s=t.relative?r+t.y1:t.y1;var i=t.x1,n=t.y1;t.type=H.CURVE_TO,t.x1=((t.relative?0:e)+2*i)/3,t.y1=((t.relative?0:r)+2*n)/3,t.x2=(t.x+2*i)/3,t.y2=(t.y+2*n)/3}else s=o=NaN;return t})}function h(r){var i=0,n=0,o=NaN,s=NaN;return function(t){if(isNaN(o)&&!(t.type&H.MOVE_TO))throw new Error("path must start with moveto");var e=r(t,i,n,o,s);return t.type&H.CLOSE_PATH&&(i=o,n=s),void 0!==t.x&&(i=t.relative?i+t.x:t.x),void 0!==t.y&&(n=t.relative?n+t.y:t.y),t.type&H.MOVE_TO&&(o=i,s=n),e}}function o(N,b,C,A,E,S){return a(N,b,C,A,E,S),h(function(t,e,r,i){var n=t.x1,o=t.x2,s=t.relative&&!isNaN(i),a=void 0!==t.x?t.x:s?0:e,h=void 0!==t.y?t.y:s?0:r;function u(t){return t*t}t.type&H.HORIZ_LINE_TO&&0!==b&&(t.type=H.LINE_TO,t.y=t.relative?0:r),t.type&H.VERT_LINE_TO&&0!==C&&(t.type=H.LINE_TO,t.x=t.relative?0:e),void 0!==t.x&&(t.x=t.x*N+h*C+(s?0:E)),void 0!==t.y&&(t.y=a*b+t.y*A+(s?0:S)),void 0!==t.x1&&(t.x1=t.x1*N+t.y1*C+(s?0:E)),void 0!==t.y1&&(t.y1=n*b+t.y1*A+(s?0:S)),void 0!==t.x2&&(t.x2=t.x2*N+t.y2*C+(s?0:E)),void 0!==t.y2&&(t.y2=o*b+t.y2*A+(s?0:S));var l=N*A-b*C;if(void 0!==t.xRot&&(1!==N||0!==b||0!==C||1!==A))if(0===l)delete t.rX,delete t.rY,delete t.xRot,delete t.lArcFlag,delete t.sweepFlag,t.type=H.LINE_TO;else{var c=t.xRot*Math.PI/180,d=Math.sin(c),f=Math.cos(c),y=1/u(t.rX),p=1/u(t.rY),v=u(f)*y+u(d)*p,m=2*d*f*(y-p),x=u(d)*y+u(f)*p,g=v*A*A-m*b*A+x*b*b,_=m*(N*A+b*C)-2*(v*C*A+x*N*b),w=v*C*C-m*N*C+x*N*N,T=(Math.atan2(_,g-w)+Math.PI)%Math.PI/2,M=Math.sin(T),O=Math.cos(T);t.rX=Math.abs(l)/Math.sqrt(g*u(O)+_*M*O+w*u(M)),t.rY=Math.abs(l)/Math.sqrt(g*u(M)-_*M*O+w*u(O)),t.xRot=180*T/Math.PI}return void 0!==t.sweepFlag&&l<0&&(t.sweepFlag=+!t.sweepFlag),t})}t.ROUND=function(e){function r(t){return Math.round(t*e)/e}return void 0===e&&(e=1e13),a(e),function(t){return void 0!==t.x1&&(t.x1=r(t.x1)),void 0!==t.y1&&(t.y1=r(t.y1)),void 0!==t.x2&&(t.x2=r(t.x2)),void 0!==t.y2&&(t.y2=r(t.y2)),void 0!==t.x&&(t.x=r(t.x)),void 0!==t.y&&(t.y=r(t.y)),t}},t.TO_ABS=e,t.TO_REL=function(){return h(function(t,e,r){return t.relative||(void 0!==t.x1&&(t.x1-=e),void 0!==t.y1&&(t.y1-=r),void 0!==t.x2&&(t.x2-=e),void 0!==t.y2&&(t.y2-=r),void 0!==t.x&&(t.x-=e),void 0!==t.y&&(t.y-=r),t.relative=!0),t})},t.NORMALIZE_HVZ=function(o,s,a){return void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=!0),h(function(t,e,r,i,n){if(isNaN(i)&&!(t.type&H.MOVE_TO))throw new Error("path must start with moveto");return s&&t.type&H.HORIZ_LINE_TO&&(t.type=H.LINE_TO,t.y=t.relative?0:r),a&&t.type&H.VERT_LINE_TO&&(t.type=H.LINE_TO,t.x=t.relative?0:e),o&&t.type&H.CLOSE_PATH&&(t.type=H.LINE_TO,t.x=t.relative?i-e:i,t.y=t.relative?n-r:n),t.type&H.ARC&&(0===t.rX||0===t.rY)&&(t.type=H.LINE_TO,delete t.rX,delete t.rY,delete t.xRot,delete t.lArcFlag,delete t.sweepFlag),t})},t.NORMALIZE_ST=r,t.QT_TO_C=i,t.INFO=h,t.SANITIZE=function(f){void 0===f&&(f=0),a(f);var y=NaN,p=NaN,v=NaN,m=NaN;return h(function(t,e,r,i,n){var o=Math.abs,s=!1,a=0,h=0;if(t.type&H.SMOOTH_CURVE_TO&&(a=isNaN(y)?0:e-y,h=isNaN(p)?0:r-p),t.type&(H.CURVE_TO|H.SMOOTH_CURVE_TO)?(y=t.relative?e+t.x2:t.x2,p=t.relative?r+t.y2:t.y2):p=y=NaN,t.type&H.SMOOTH_QUAD_TO?(v=isNaN(v)?e:2*e-v,m=isNaN(m)?r:2*r-m):t.type&H.QUAD_TO?(v=t.relative?e+t.x1:t.x1,m=t.relative?r+t.y1:t.y2):m=v=NaN,t.type&H.LINE_COMMANDS||t.type&H.ARC&&(0===t.rX||0===t.rY||!t.lArcFlag)||t.type&H.CURVE_TO||t.type&H.SMOOTH_CURVE_TO||t.type&H.QUAD_TO||t.type&H.SMOOTH_QUAD_TO){var u=void 0===t.x?0:t.relative?t.x:t.x-e,l=void 0===t.y?0:t.relative?t.y:t.y-r;a=isNaN(v)?void 0===t.x1?a:t.relative?t.x:t.x1-e:v-e,h=isNaN(m)?void 0===t.y1?h:t.relative?t.y:t.y1-r:m-r;var c=void 0===t.x2?0:t.relative?t.x:t.x2-e,d=void 0===t.y2?0:t.relative?t.y:t.y2-r;o(u)<=f&&o(l)<=f&&o(a)<=f&&o(h)<=f&&o(c)<=f&&o(d)<=f&&(s=!0)}return t.type&H.CLOSE_PATH&&o(e-i)<=f&&o(r-n)<=f&&(s=!0),s?[]:t})},t.MATRIX=o,t.ROTATE=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),a(t,e,r);var i=Math.sin(t),n=Math.cos(t);return o(n,i,-i,n,e-e*n+r*i,r-e*i-r*n)},t.TRANSLATE=function(t,e){return void 0===e&&(e=0),a(t,e),o(1,0,0,1,t,e)},t.SCALE=function(t,e){return void 0===e&&(e=t),a(t,e),o(t,0,0,e,0,0)},t.SKEW_X=function(t){return a(t),o(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return a(t),o(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),a(t),o(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),a(t),o(1,0,0,-1,0,t)},t.A_TO_C=function(){return h(function(t,e,r){return H.ARC===t.type?function(o,t,e){var r,i,n,s;o.cX||E(o,t,e);for(var a=Math.min(o.phi1,o.phi2),h=Math.max(o.phi1,o.phi2)-a,u=Math.ceil(h/90),l=new Array(u),c=t,d=e,f=0;f<u;f++){var y=k(o.phi1,o.phi2,f/u),p=k(o.phi1,o.phi2,(f+1)/u),v=p-y,m=4/3*Math.tan(v*R/4),x=[Math.cos(y*R)-m*Math.sin(y*R),Math.sin(y*R)+m*Math.cos(y*R)],g=x[0],_=x[1],w=[Math.cos(p*R),Math.sin(p*R)],T=w[0],M=w[1],O=[T+m*Math.sin(p*R),M-m*Math.cos(p*R)],N=O[0],b=O[1];l[f]={relative:o.relative,type:H.CURVE_TO};var C=function(t,e){var r=A([t*o.rX,e*o.rY],o.xRot),i=r[0],n=r[1];return[o.cX+i,o.cY+n]};r=C(g,_),l[f].x1=r[0],l[f].y1=r[1],i=C(N,b),l[f].x2=i[0],l[f].y2=i[1],n=C(T,M),l[f].x=n[0],l[f].y=n[1],o.relative&&(l[f].x1-=c,l[f].y1-=d,l[f].x2-=c,l[f].y2-=d,l[f].x-=c,l[f].y-=d),c=(s=[l[f].x,l[f].y])[0],d=s[1]}return l}(t,t.relative?0:e,t.relative?0:r):t})},t.ANNOTATE_ARCS=function(){return h(function(t,e,r){return t.relative&&(r=e=0),H.ARC===t.type&&E(t,e,r),t})},t.CLONE=function(){return function(t){var e={};for(var r in t)e[r]=t[r];return e}},t.CALCULATE_BOUNDS=function(){var O=e(),N=i(),b=r(),C=h(function(t,e,r){var i=b(N(O(function(t){var e={};for(var r in t)e[r]=t[r];return e}(t))));function n(t){t>C.maxX&&(C.maxX=t),t<C.minX&&(C.minX=t)}function o(t){t>C.maxY&&(C.maxY=t),t<C.minY&&(C.minY=t)}if(i.type&H.DRAWING_COMMANDS&&(n(e),o(r)),i.type&H.HORIZ_LINE_TO&&n(i.x),i.type&H.VERT_LINE_TO&&o(i.y),i.type&H.LINE_TO&&(n(i.x),o(i.y)),i.type&H.CURVE_TO){n(i.x),o(i.y);for(var s=0,a=I(e,i.x1,i.x2,i.x);s<a.length;s++)0<(M=a[s])&&M<1&&n(P(e,i.x1,i.x2,i.x,M));for(var h=0,u=I(r,i.y1,i.y2,i.y);h<u.length;h++)0<(M=u[h])&&M<1&&o(P(r,i.y1,i.y2,i.y,M))}if(i.type&H.ARC){n(i.x),o(i.y),E(i,e,r);for(var l=i.xRot/180*Math.PI,c=Math.cos(l)*i.rX,d=Math.sin(l)*i.rX,f=-Math.sin(l)*i.rY,y=Math.cos(l)*i.rY,p=i.phi1<i.phi2?[i.phi1,i.phi2]:i.phi2<-180?[i.phi2+360,i.phi1+360]:[i.phi2,i.phi1],v=p[0],m=p[1],x=function(t){var e=t[0],r=t[1],i=180*Math.atan2(r,e)/Math.PI;return i<v?i+360:i},g=0,_=S(f,-c,0).map(x);g<_.length;g++)(M=_[g])>v&&M<m&&n(D(i.cX,c,f,M));for(var w=0,T=S(y,-d,0).map(x);w<T.length;w++){var M;(M=T[w])>v&&M<m&&o(D(i.cY,d,y,M))}}return t});return C.minX=1/0,C.maxX=-1/0,C.minY=1/0,C.maxY=-1/0,C}}(s.SVGPathDataTransformer||(s.SVGPathDataTransformer={}));var t,e,r=function(){function t(){}return t.prototype.round=function(t){return this.transform(s.SVGPathDataTransformer.ROUND(t))},t.prototype.toAbs=function(){return this.transform(s.SVGPathDataTransformer.TO_ABS())},t.prototype.toRel=function(){return this.transform(s.SVGPathDataTransformer.TO_REL())},t.prototype.normalizeHVZ=function(t,e,r){return this.transform(s.SVGPathDataTransformer.NORMALIZE_HVZ(t,e,r))},t.prototype.normalizeST=function(){return this.transform(s.SVGPathDataTransformer.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(s.SVGPathDataTransformer.QT_TO_C())},t.prototype.aToC=function(){return this.transform(s.SVGPathDataTransformer.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(s.SVGPathDataTransformer.SANITIZE(t))},t.prototype.translate=function(t,e){return this.transform(s.SVGPathDataTransformer.TRANSLATE(t,e))},t.prototype.scale=function(t,e){return this.transform(s.SVGPathDataTransformer.SCALE(t,e))},t.prototype.rotate=function(t,e,r){return this.transform(s.SVGPathDataTransformer.ROTATE(t,e,r))},t.prototype.matrix=function(t,e,r,i,n,o){return this.transform(s.SVGPathDataTransformer.MATRIX(t,e,r,i,n,o))},t.prototype.skewX=function(t){return this.transform(s.SVGPathDataTransformer.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(s.SVGPathDataTransformer.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(s.SVGPathDataTransformer.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(s.SVGPathDataTransformer.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(s.SVGPathDataTransformer.ANNOTATE_ARCS())},t}(),o=function(e){function t(){var t=e.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return n(t,e),t.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(" ",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},t.prototype.parse=function(t,e){var r,i,n=this;void 0===e&&(e=[]);for(var o=function(t){e.push(t),n.curArgs.length=0,n.canParseCommandOrComma=!0},s=0;s<t.length;s++){var a=t[s];if(i=a,"0".charCodeAt(0)<=i.charCodeAt(0)&&i.charCodeAt(0)<="9".charCodeAt(0))this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp;else if("e"!==a&&"E"!==a)if("-"!==a&&"+"!==a||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==a||this.curNumberHasExp||this.curNumberHasDecimal){if(this.curNumber&&-1!==this.curCommandType){var h=Number(this.curNumber);if(isNaN(h))throw new SyntaxError("Invalid number ending at "+s);if(this.curCommandType===H.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(h<0)throw new SyntaxError('Expected positive number, got "'+h+'" at index "'+s+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+s+'"');this.curArgs.push(h),this.curArgs.length===u[this.curCommandType]&&(H.HORIZ_LINE_TO===this.curCommandType?o({type:H.HORIZ_LINE_TO,relative:this.curCommandRelative,x:h}):H.VERT_LINE_TO===this.curCommandType?o({type:H.VERT_LINE_TO,relative:this.curCommandRelative,y:h}):this.curCommandType===H.MOVE_TO||this.curCommandType===H.LINE_TO||this.curCommandType===H.SMOOTH_QUAD_TO?(o({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),H.MOVE_TO===this.curCommandType&&(this.curCommandType=H.LINE_TO)):this.curCommandType===H.CURVE_TO?o({type:H.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===H.SMOOTH_CURVE_TO?o({type:H.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===H.QUAD_TO?o({type:H.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===H.ARC&&o({type:H.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(" "!==(r=a)&&"\t"!==r&&"\r"!==r&&"\n"!==r)if(","===a&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==a&&"-"!==a&&"."!==a){if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+s+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+a+'" at index '+s+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==a&&"Z"!==a)if("h"===a||"H"===a)this.curCommandType=H.HORIZ_LINE_TO,this.curCommandRelative="h"===a;else if("v"===a||"V"===a)this.curCommandType=H.VERT_LINE_TO,this.curCommandRelative="v"===a;else if("m"===a||"M"===a)this.curCommandType=H.MOVE_TO,this.curCommandRelative="m"===a;else if("l"===a||"L"===a)this.curCommandType=H.LINE_TO,this.curCommandRelative="l"===a;else if("c"===a||"C"===a)this.curCommandType=H.CURVE_TO,this.curCommandRelative="c"===a;else if("s"===a||"S"===a)this.curCommandType=H.SMOOTH_CURVE_TO,this.curCommandRelative="s"===a;else if("q"===a||"Q"===a)this.curCommandType=H.QUAD_TO,this.curCommandRelative="q"===a;else if("t"===a||"T"===a)this.curCommandType=H.SMOOTH_QUAD_TO,this.curCommandRelative="t"===a;else{if("a"!==a&&"A"!==a)throw new SyntaxError('Unexpected character "'+a+'" at index '+s+".");this.curCommandType=H.ARC,this.curCommandRelative="a"===a}else e.push({type:H.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=a,this.curNumberHasDecimal="."===a}else this.curNumber+=a,this.curNumberHasDecimal=!0;else this.curNumber+=a;else this.curNumber+=a,this.curNumberHasExp=!0}return e},t.prototype.transform=function(s){return Object.create(this,{parse:{value:function(t,e){void 0===e&&(e=[]);for(var r=0,i=Object.getPrototypeOf(this).parse.call(this,t);r<i.length;r++){var n=i[r],o=s(n);Array.isArray(o)?e.push.apply(e,o):e.push(o)}return e}}})},t}(r),H=function(r){function i(t){var e=r.call(this)||this;return e.commands="string"==typeof t?i.parse(t):t,e}return n(i,r),i.prototype.encode=function(){return i.encode(this.commands)},i.prototype.getBounds=function(){var t=s.SVGPathDataTransformer.CALCULATE_BOUNDS();return this.transform(t),t},i.prototype.transform=function(t){for(var e=[],r=0,i=this.commands;r<i.length;r++){var n=t(i[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return this.commands=e,this},i.encode=function(t){return l(t)},i.parse=function(t){var e=new o,r=[];return e.parse(t,r),e.finish(r),r},i.CLOSE_PATH=1,i.MOVE_TO=2,i.HORIZ_LINE_TO=4,i.VERT_LINE_TO=8,i.LINE_TO=16,i.CURVE_TO=32,i.SMOOTH_CURVE_TO=64,i.QUAD_TO=128,i.SMOOTH_QUAD_TO=256,i.ARC=512,i.LINE_COMMANDS=i.LINE_TO|i.HORIZ_LINE_TO|i.VERT_LINE_TO,i.DRAWING_COMMANDS=i.HORIZ_LINE_TO|i.VERT_LINE_TO|i.LINE_TO|i.CURVE_TO|i.SMOOTH_CURVE_TO|i.QUAD_TO|i.SMOOTH_QUAD_TO|i.ARC,i}(r),u=((t={})[H.MOVE_TO]=2,t[H.LINE_TO]=2,t[H.HORIZ_LINE_TO]=1,t[H.VERT_LINE_TO]=1,t[H.CLOSE_PATH]=0,t[H.QUAD_TO]=4,t[H.SMOOTH_QUAD_TO]=2,t[H.CURVE_TO]=6,t[H.SMOOTH_CURVE_TO]=4,t[H.ARC]=7,t),h=" ";function l(t){var e="";Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if(i.type===H.CLOSE_PATH)e+="z";else if(i.type===H.HORIZ_LINE_TO)e+=(i.relative?"h":"H")+i.x;else if(i.type===H.VERT_LINE_TO)e+=(i.relative?"v":"V")+i.y;else if(i.type===H.MOVE_TO)e+=(i.relative?"m":"M")+i.x+h+i.y;else if(i.type===H.LINE_TO)e+=(i.relative?"l":"L")+i.x+h+i.y;else if(i.type===H.CURVE_TO)e+=(i.relative?"c":"C")+i.x1+h+i.y1+h+i.x2+h+i.y2+h+i.x+h+i.y;else if(i.type===H.SMOOTH_CURVE_TO)e+=(i.relative?"s":"S")+i.x2+h+i.y2+h+i.x+h+i.y;else if(i.type===H.QUAD_TO)e+=(i.relative?"q":"Q")+i.x1+h+i.y1+h+i.x+h+i.y;else if(i.type===H.SMOOTH_QUAD_TO)e+=(i.relative?"t":"T")+i.x+h+i.y;else{if(i.type!==H.ARC)throw new Error('Unexpected command type "'+i.type+'" at index '+r+".");e+=(i.relative?"a":"A")+i.rX+h+i.rY+h+i.xRot+h+ +i.lArcFlag+h+ +i.sweepFlag+h+i.x+h+i.y}}return e}var c=function(r){function i(t){var e=r.call(this)||this;return e.commands="string"==typeof t?i.parse(t):t,e}return n(i,r),i.prototype.encode=function(){return i.encode(this.commands)},i.prototype.getBounds=function(){var t=s.SVGPathDataTransformer.CALCULATE_BOUNDS();return this.transform(t),t},i.prototype.transform=function(t){for(var e=[],r=0,i=this.commands;r<i.length;r++){var n=t(i[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return this.commands=e,this},i.encode=function(t){return l(t)},i.parse=function(t){var e=new o,r=[];return e.parse(t,r),e.finish(r),r},i.CLOSE_PATH=1,i.MOVE_TO=2,i.HORIZ_LINE_TO=4,i.VERT_LINE_TO=8,i.LINE_TO=16,i.CURVE_TO=32,i.SMOOTH_CURVE_TO=64,i.QUAD_TO=128,i.SMOOTH_QUAD_TO=256,i.ARC=512,i.LINE_COMMANDS=i.LINE_TO|i.HORIZ_LINE_TO|i.VERT_LINE_TO,i.DRAWING_COMMANDS=i.HORIZ_LINE_TO|i.VERT_LINE_TO|i.LINE_TO|i.CURVE_TO|i.SMOOTH_CURVE_TO|i.QUAD_TO|i.SMOOTH_QUAD_TO|i.ARC,i}(r),d=((e={})[c.MOVE_TO]=2,e[c.LINE_TO]=2,e[c.HORIZ_LINE_TO]=1,e[c.VERT_LINE_TO]=1,e[c.CLOSE_PATH]=0,e[c.QUAD_TO]=4,e[c.SMOOTH_QUAD_TO]=2,e[c.CURVE_TO]=6,e[c.SMOOTH_CURVE_TO]=4,e[c.ARC]=7,e);s.SVGPathData=c,s.COMMAND_ARG_COUNTS=d,s.encodeSVGPath=l,s.SVGPathDataParser=o,Object.defineProperty(s,"__esModule",{value:!0})},"object"==_typeof2(r)&&void 0!==e?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n(i.svgpathdata={})},{}],12:[function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.valid=r.toPoints=r.toPath=void 0;var i=s(t("./toPath")),n=s(t("./toPoints")),o=s(t("./valid"));function s(t){return t&&t.__esModule?t:{default:t}}r.toPath=i.default,r.toPoints=n.default,r.valid=o.default},{"./toPath":13,"./toPoints":14,"./valid":15}],13:[function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0});var i,n=t("./toPoints"),o=(i=n)&&i.__esModule?i:{default:i};var s=function(t){var e="",r=0,i=void 0,n=!0,o=!1,s=void 0;try{for(var a,h=t[Symbol.iterator]();!(n=(a=h.next()).done);n=!0){var u=a.value,l=u.curve,c=void 0!==l&&l,d=u.moveTo,f=u.x,y=u.y,p=0===r||d,v=r===t.length-1||t[r+1].moveTo,m=0===r?null:t[r-1];if(p)i=u,v||(e+="M"+f+","+y);else if(c){switch(c.type){case"arc":var x=u.curve,g=x.largeArcFlag,_=void 0===g?0:g,w=x.rx,T=x.ry,M=x.sweepFlag,O=void 0===M?0:M,N=x.xAxisRotation;e+="A"+w+","+T+","+(void 0===N?0:N)+","+_+","+O+","+f+","+y;break;case"cubic":var b=u.curve;e+="C"+b.x1+","+b.y1+","+b.x2+","+b.y2+","+f+","+y;break;case"quadratic":var C=u.curve;e+="Q"+C.x1+","+C.y1+","+f+","+y}v&&f===i.x&&y===i.y&&(e+="Z")}else v&&f===i.x&&y===i.y?e+="Z":f!==m.x&&y!==m.y?e+="L"+f+","+y:f!==m.x?e+="H"+f:y!==m.y&&(e+="V"+y);r++}}catch(t){o=!0,s=t}finally{try{!n&&h.return&&h.return()}finally{if(o)throw s}}return e};r.default=function(t){var e=Array.isArray(t),r=e?Array.isArray(t[0]):"g"===t.type,i=e?t:r?t.shapes.map(function(t){return(0,o.default)(t)}):(0,o.default)(t);return r?i.map(function(t){return s(t)}):s(i)}},{"./toPoints":14}],14:[function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};var n=function(t){var e=t.type,r=function(t,e){var r={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}(t,["type"]);switch(e){case"circle":return o(r);case"ellipse":return s(r);case"line":return a(r);case"path":return h(r);case"polygon":return u(r);case"polyline":return l(r);case"rect":return d(r);case"g":return p(r);default:throw new Error("Not a valid shape type")}},o=function(t){var e=t.cx,r=t.cy,i=t.r;return[{x:e,y:r-i,moveTo:!0},{x:e,y:r+i,curve:{type:"arc",rx:i,ry:i,sweepFlag:1}},{x:e,y:r-i,curve:{type:"arc",rx:i,ry:i,sweepFlag:1}}]},s=function(t){var e=t.cx,r=t.cy,i=t.rx,n=t.ry;return[{x:e,y:r-n,moveTo:!0},{x:e,y:r+n,curve:{type:"arc",rx:i,ry:n,sweepFlag:1}},{x:e,y:r-n,curve:{type:"arc",rx:i,ry:n,sweepFlag:1}}]},a=function(t){var e=t.x1,r=t.x2;return[{x:e,y:t.y1,moveTo:!0},{x:r,y:t.y2}]},F=/[MmLlHhVvCcSsQqTtAaZz]/g,U={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},B=["a","c","h","l","m","q","s","t","v"],X=["xAxisRotation","largeArcFlag","sweepFlag"],h=function(t){for(var e,r=t.d,i=r.match(F),n=r.split(F).map(function(t){return t.replace(/[0-9]+-/g,function(t){return t.slice(0,-1)+" -"})}).map(function(t){return t.replace(/\.[0-9]+/g,function(t){return t+" "})}).map(function(t){return t.trim()}).filter(function(t){return 0<t.length}).map(function(t){return t.split(/[ ,]+/).map(parseFloat).filter(function(t){return!isNaN(t)})}),o=[],s=void 0,a=0,h=i.length;a<h;a++){var u=i[a],l=u.toUpperCase(),c=U[l],d=(e=u,-1!==B.indexOf(e));if(0<c)for(var f=n.shift(),y=f.length/c,p=0;p<y;p++){var v=o[o.length-1]||{x:0,y:0};switch(l){case"M":var m=(d?v.x:0)+f.shift(),x=(d?v.y:0)+f.shift();0===p?(s={x:m,y:x},o.push({x:m,y:x,moveTo:!0})):o.push({x:m,y:x});break;case"L":o.push({x:(d?v.x:0)+f.shift(),y:(d?v.y:0)+f.shift()});break;case"H":o.push({x:(d?v.x:0)+f.shift(),y:v.y});break;case"V":o.push({x:v.x,y:(d?v.y:0)+f.shift()});break;case"A":o.push({curve:{type:"arc",rx:f.shift(),ry:f.shift(),xAxisRotation:f.shift(),largeArcFlag:f.shift(),sweepFlag:f.shift()},x:(d?v.x:0)+f.shift(),y:(d?v.y:0)+f.shift()});var g=!0,_=!1,w=void 0;try{for(var T,M=X[Symbol.iterator]();!(g=(T=M.next()).done);g=!0){var O=T.value;0===o[o.length-1].curve[O]&&delete o[o.length-1].curve[O]}}catch(t){_=!0,w=t}finally{try{!g&&M.return&&M.return()}finally{if(_)throw w}}break;case"C":o.push({curve:{type:"cubic",x1:(d?v.x:0)+f.shift(),y1:(d?v.y:0)+f.shift(),x2:(d?v.x:0)+f.shift(),y2:(d?v.y:0)+f.shift()},x:(d?v.x:0)+f.shift(),y:(d?v.y:0)+f.shift()});break;case"S":var N=(d?v.x:0)+f.shift(),b=(d?v.y:0)+f.shift(),C=(d?v.x:0)+f.shift(),A=(d?v.y:0)+f.shift(),E={},S=void 0,R=void 0;v.curve&&"cubic"===v.curve.type?(E.x=Math.abs(v.x-v.curve.x2),E.y=Math.abs(v.y-v.curve.y2),S=v.x<v.curve.x2?v.x-E.x:v.x+E.x,R=v.y<v.curve.y2?v.y-E.y:v.y+E.y):(E.x=Math.abs(C-N),E.y=Math.abs(A-b),S=v.x,R=v.y),o.push({curve:{type:"cubic",x1:S,y1:R,x2:N,y2:b},x:C,y:A});break;case"Q":o.push({curve:{type:"quadratic",x1:(d?v.x:0)+f.shift(),y1:(d?v.y:0)+f.shift()},x:(d?v.x:0)+f.shift(),y:(d?v.y:0)+f.shift()});break;case"T":var k=(d?v.x:0)+f.shift(),D=(d?v.y:0)+f.shift(),I=void 0,P=void 0;if(v.curve&&"quadratic"===v.curve.type){var H=Math.abs(v.x-v.curve.x1),L=Math.abs(v.y-v.curve.y1);I=v.x<v.curve.x1?v.x-H:v.x+H,P=v.y<v.curve.y1?v.y-L:v.y+L}else I=v.x,P=v.y;o.push({curve:{type:"quadratic",x1:I,y1:P},x:k,y:D})}}else{var V=o[o.length-1]||{x:0,y:0};V.x===s.x&&V.y===s.y||o.push({x:s.x,y:s.y})}}return o},u=function(t){var e=t.points;return c({closed:!0,points:e})},l=function(t){var e=t.points;return c({closed:!1,points:e})},c=function(t){var e=t.closed,r=t.points.split(/[\s,]+/).map(function(t){return parseFloat(t)}).reduce(function(t,e,r){return r%2==0?t.push({x:e}):t[(r-1)/2].y=e,t},[]);return e&&r.push(i({},r[0])),r[0].moveTo=!0,r},d=function(t){var e=t.height,r=t.rx,i=t.ry,n=t.width,o=t.x,s=t.y;return r||i?y({height:e,rx:r||i,ry:i||r,width:n,x:o,y:s}):f({height:e,width:n,x:o,y:s})},f=function(t){var e=t.height,r=t.width,i=t.x,n=t.y;return[{x:i,y:n,moveTo:!0},{x:i+r,y:n},{x:i+r,y:n+e},{x:i,y:n+e},{x:i,y:n}]},y=function(t){var e=t.height,r=t.rx,i=t.ry,n=t.width,o=t.x,s=t.y,a={type:"arc",rx:r,ry:i,sweepFlag:1};return[{x:o+r,y:s,moveTo:!0},{x:o+n-r,y:s},{x:o+n,y:s+i,curve:a},{x:o+n,y:s+e-i},{x:o+n-r,y:s+e,curve:a},{x:o+r,y:s+e},{x:o,y:s+e-i,curve:a},{x:o,y:s+i},{x:o+r,y:s,curve:a}]},p=function(t){return t.shapes.map(function(t){return n(t)})};r.default=n},{}],15:[function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},i=function(t){var e=[{match:["circle","ellipse","line","path","polygon","polyline","rect","g"],prop:"type",required:!0,type:"string"}];switch(t.type){case"circle":e.push({prop:"cx",required:!0,type:"number"}),e.push({prop:"cy",required:!0,type:"number"}),e.push({prop:"r",required:!0,type:"number"});break;case"ellipse":e.push({prop:"cx",required:!0,type:"number"}),e.push({prop:"cy",required:!0,type:"number"}),e.push({prop:"rx",required:!0,type:"number"}),e.push({prop:"ry",required:!0,type:"number"});break;case"line":e.push({prop:"x1",required:!0,type:"number"}),e.push({prop:"x2",required:!0,type:"number"}),e.push({prop:"y1",required:!0,type:"number"}),e.push({prop:"y2",required:!0,type:"number"});break;case"path":e.push({prop:"d",required:!0,type:"string"});break;case"polygon":case"polyline":e.push({prop:"points",required:!0,type:"string"});break;case"rect":e.push({prop:"height",required:!0,type:"number"}),e.push({prop:"rx",type:"number"}),e.push({prop:"ry",type:"number"}),e.push({prop:"width",required:!0,type:"number"}),e.push({prop:"x",required:!0,type:"number"}),e.push({prop:"y",required:!0,type:"number"});break;case"g":e.push({prop:"shapes",required:!0,type:"array"})}return e};r.default=function(t){var e=function e(o){var t=i(o),s=[];if(t.map(function(t){var e=t.match,r=t.prop,i=t.required,n=t.type;void 0===o[r]?i&&s.push(r+" prop is required"+("type"===r?"":" on a "+o.type)):(void 0!==n&&("array"===n?Array.isArray(o[r])||s.push(r+" prop must be of type array"):a(o[r])!==n&&s.push(r+" prop must be of type "+n)),Array.isArray(e)&&-1===e.indexOf(o[r])&&s.push(r+" prop must be one of "+e.join(", ")))}),"g"===o.type&&Array.isArray(o.shapes)){var r=o.shapes.map(function(t){return e(t)});return[].concat.apply(s,r)}return s}(t);return{errors:e,valid:0===e.length}}},{}],16:[function(t,e,r){function i(t,e){if(!(this instanceof i))return new i(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||n,0<this.length)for(var r=(this.length>>1)-1;0<=r;r--)this._down(r)}function n(t,e){return t<e?-1:e<t?1:0}e.exports=i,(e.exports.default=i).prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,r=this.compare,i=e[t];0<t;){var n=t-1>>1,o=e[n];if(0<=r(i,o))break;e[t]=o,t=n}e[t]=i},_down:function(t){for(var e=this.data,r=this.compare,i=this.length>>1,n=e[t];t<i;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&r(e[s],a)<0&&(a=e[o=s]),0<=r(a,n))break;e[t]=a,t=o}e[t]=n}}},{}],17:[function(t,a,e){!function t(e,r,i){var n=function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(!(this instanceof o))return new o(t,e);n(t)?(e=t[1],t=t[0]):"object"===_typeof2(t)&&t&&(e=t.y,t=t.x),this.x=o.clean(t||0),this.y=o.clean(e||0)}o.prototype={change:function(t){if("function"==typeof t)this.observers?this.observers.push(t):this.observers=[t];else if(this.observers&&this.observers.length)for(var e=this.observers.length-1;0<=e;e--)this.observers[e](this,t);return this},ignore:function(t){if(this.observers)if(t)for(var e=this.observers,r=e.length;r--;)e[r]===t&&e.splice(r,1);else this.observers=[];return this},set:function(t,e,r){if("number"!=typeof t&&(r=e,e=t.y,t=t.x),this.x===t&&this.y===e)return this;var i=null;return!1!==r&&this.observers&&this.observers.length&&(i=this.clone()),this.x=o.clean(t),this.y=o.clean(e),!1!==r?this.change(i):void 0},zero:function(){return this.set(0,0)},clone:function(){return new this.constructor(this.x,this.y)},negate:function(t){return t?new this.constructor(-this.x,-this.y):this.set(-this.x,-this.y)},add:function(t,e,r){return"number"!=typeof t&&(r=e,n(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)),t+=this.x,e+=this.y,r?new this.constructor(t,e):this.set(t,e)},subtract:function(t,e,r){return"number"!=typeof t&&(r=e,n(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)),t=this.x-t,e=this.y-e,r?new this.constructor(t,e):this.set(t,e)},multiply:function(t,e,r){return"number"!=typeof t?(r=e,n(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)):"number"!=typeof e&&(r=e,e=t),t*=this.x,e*=this.y,r?new this.constructor(t,e):this.set(t,e)},rotate:function(t,e,r){var i,n,o=this.x,s=this.y,a=Math.cos(t),h=Math.sin(t);return i=a*o-(e=e?-1:1)*h*s,n=e*h*o+a*s,r?new this.constructor(i,n):this.set(i,n)},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},lengthSquared:function(){var t=this.x,e=this.y;return t*t+e*e},distance:function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},nearest:function(t){for(var e,r=Number.MAX_VALUE,i=null,n=t.length-1;0<=n;n--)(e=this.distance(t[n]))<=r&&(r=e,i=t[n]);return i},normalize:function(t){var e=this.length(),r=e<Number.MIN_VALUE?0:1/e;return t?new this.constructor(this.x*r,this.y*r):this.set(this.x*r,this.y*r)},equal:function(t,e){return"number"!=typeof t&&(n(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)),o.clean(t)===this.x&&o.clean(e)===this.y},abs:function(t){var e=Math.abs(this.x),r=Math.abs(this.y);return t?new this.constructor(e,r):this.set(e,r)},min:function(t,e){var r=this.x,i=this.y,n=t.x,o=t.y,s=r<n?r:n,a=i<o?i:o;return e?new this.constructor(s,a):this.set(s,a)},max:function(t,e){var r=this.x,i=this.y,n=t.x,o=t.y,s=n<r?r:n,a=o<i?i:o;return e?new this.constructor(s,a):this.set(s,a)},clamp:function(t,e,r){var i=this.min(e,!0).max(t);return r?i:this.set(i.x,i.y)},lerp:function(t,e,r){return this.add(t.subtract(this,!0).multiply(e),r)},skew:function(t){return t?new this.constructor(-this.y,this.x):this.set(-this.y,this.x)},dot:function(t){return o.clean(this.x*t.x+t.y*this.y)},perpDot:function(t){return o.clean(this.x*t.y-this.y*t.x)},angleTo:function(t){return Math.atan2(this.perpDot(t),this.dot(t))},divide:function(t,e,r){if("number"!=typeof t?(r=e,n(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)):"number"!=typeof e&&(r=e,e=t),0===t||0===e)throw new Error("division by zero");if(isNaN(t)||isNaN(e))throw new Error("NaN detected");return r?new this.constructor(this.x/t,this.y/e):this.set(this.x/t,this.y/e)},isPointOnLine:function(t,e){return(t.y-this.y)*(t.x-e.x)==(t.y-e.y)*(t.x-this.x)},toArray:function(){return[this.x,this.y]},fromArray:function(t){return this.set(t[0],t[1])},toJSON:function(){return{x:this.x,y:this.y}},toString:function(){return"("+this.x+", "+this.y+")"},constructor:o},o.fromArray=function(t,e){return new(e||o)(t[0],t[1])},o.precision=r||8;var s=Math.pow(10,o.precision);return o.clean=e||function(t){if(isNaN(t))throw new Error("NaN detected");if(!isFinite(t))throw new Error("Infinity detected");return Math.round(t)===t?t:Math.round(t*s)/s},o.inject=t,e||(o.fast=t(function(t){return t}),void 0!==a&&"object"==_typeof2(a.exports)?a.exports=o:window.Vec2=window.Vec2||o),o}()},{}]},{},[2]);